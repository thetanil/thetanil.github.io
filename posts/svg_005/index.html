<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Triangle-Circle Intersection Detection with Curved Motion | Theta Nil's Site</title><link rel=stylesheet href=/css/main.min.c7a5c1c6627bdd92510df0d2272d0f86694f49366048d0ee3065e20d315759b3.css integrity="sha256-x6XBxmJ73ZJRDfDSJy0PhmlPSTZgSNDuMGXiDTFXWbM=" crossorigin=anonymous><script src=/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js integrity="sha256-I80MfYNyY7nq65buLZzPopadqj+gD6HB/ocBqbhyUaE=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js></script><script>function getMermaidTheme(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"default"}function initializeMermaid(){mermaid.initialize({startOnLoad:!1,theme:getMermaidTheme(),securityLevel:"loose",fontFamily:"inherit",themeVariables:{primaryColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#66b3ff":"#00e",primaryTextColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#e8e8e8":"#222",primaryBorderColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#444":"#222",lineColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#444":"#222",sectionBkgColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#2a2a2a":"#f9f9f9",altSectionBkgColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#1a1a1a":"#fff",gridColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#444":"#e0e0e0",tertiaryColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#3a3a3a":"#f0f0f0"}})}function processMermaidBlocks(){const e=document.querySelectorAll("code.language-mermaid");e.forEach((e,t)=>{const n=document.createElement("div");n.className="mermaid",n.id="mermaid-"+t,n.textContent=e.textContent;const s=e.parentElement;s.parentElement.replaceChild(n,s)}),e.length>0&&mermaid.init()}if(document.addEventListener("DOMContentLoaded",function(){initializeMermaid(),processMermaidBlocks()}),window.matchMedia){const e=window.matchMedia("(prefers-color-scheme: dark)");e.addEventListener("change",function(){initializeMermaid();const t=document.querySelectorAll(".mermaid");t.forEach((e,t)=>{e.id="mermaid-rerender-"+t,e.removeAttribute("data-processed")}),t.length>0&&mermaid.init()})}</script></head><body><header><h1>Theta Nil's Site</h1><nav><ul><li><a href=/>Home</a></li><li><a aria-current=true class=ancestor href=/posts/>Posts</a></li><li><a href=/tags/>Tags</a></li></ul></nav></header><main><h1>Triangle-Circle Intersection Detection with Curved Motion</h1><time datetime=2025-10-10T00:00:00+00:00>October 10, 2025</time><p>This post demonstrates real-time intersection detection between a moving triangle and a moving circle, with automatic marking of intersection points as the shapes follow curved paths.</p><h3 id=intersection-demos>Intersection Demos:</h3><div style="display:flex;flex-wrap:wrap;gap:10px;margin:10px 0"><button onclick=startAnimation() style="padding:10px 15px;background:#4caf50;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:120px">üé¨ Start Animation</button>
<button onclick=stopAnimation() style="padding:10px 15px;background:#f44336;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:120px">‚èπÔ∏è Stop Animation</button>
<button onclick=togglePaths() style="padding:10px 15px;background:#2196f3;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:120px">üëÅÔ∏è Toggle Paths</button>
<button onclick=clearIntersections() style="padding:10px 15px;background:#ff9800;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:120px">üßπ Clear Points</button></div><div style="margin:10px 0"><label style=color:#fff;margin-right:10px>Speed:</label>
<input type=range id=speedSlider min=0.5 max=3 step=0.1 value=1 style=margin-right:10px onchange=updateSpeed(this.value)>
<span id=speedValue style=color:#fff>1.0x</span></div><div id=svg-container style=width:100%;height:100vh;margin:0;padding:0;background:#111></div><script>let animationId=null,isAnimating=!1,animationSpeed=1,startTime=0,showPaths=!0;const triangleSize=80,circleRadius=50;let svg=null,triangle=null,circle=null,intersectionPoints=[],persistentIntersections=[];function initializeSVG(){const l=document.getElementById("svg-container"),n=window.innerWidth,s=window.innerHeight;l.innerHTML="",svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),svg.setAttribute("width",n),svg.setAttribute("height",s),svg.setAttribute("viewBox",`0 0 ${n} ${s}`),svg.style.display="block",svg.style.background="#111";const c=document.createElementNS("http://www.w3.org/2000/svg","defs"),e=document.createElementNS("http://www.w3.org/2000/svg","radialGradient");e.setAttribute("id","triangleGradient"),e.setAttribute("cx","50%"),e.setAttribute("cy","50%");const o=document.createElementNS("http://www.w3.org/2000/svg","stop");o.setAttribute("offset","0%"),o.setAttribute("stop-color","#ff6b6b"),o.setAttribute("stop-opacity","0.8");const i=document.createElementNS("http://www.w3.org/2000/svg","stop");i.setAttribute("offset","100%"),i.setAttribute("stop-color","#ff3333"),i.setAttribute("stop-opacity","0.6"),e.appendChild(o),e.appendChild(i),c.appendChild(e);const t=document.createElementNS("http://www.w3.org/2000/svg","radialGradient");t.setAttribute("id","circleGradient"),t.setAttribute("cx","50%"),t.setAttribute("cy","50%");const a=document.createElementNS("http://www.w3.org/2000/svg","stop");a.setAttribute("offset","0%"),a.setAttribute("stop-color","#4ecdc4"),a.setAttribute("stop-opacity","0.8");const r=document.createElementNS("http://www.w3.org/2000/svg","stop");return r.setAttribute("offset","100%"),r.setAttribute("stop-color","#45b7d1"),r.setAttribute("stop-opacity","0.6"),t.appendChild(a),t.appendChild(r),c.appendChild(t),svg.appendChild(c),createGrid(),createPathGuides(n,s),triangle=document.createElementNS("http://www.w3.org/2000/svg","polygon"),triangle.setAttribute("fill","url(#triangleGradient)"),triangle.setAttribute("stroke","#fff"),triangle.setAttribute("stroke-width","2"),triangle.setAttribute("opacity","0.9"),svg.appendChild(triangle),circle=document.createElementNS("http://www.w3.org/2000/svg","circle"),circle.setAttribute("fill","url(#circleGradient)"),circle.setAttribute("stroke","#fff"),circle.setAttribute("stroke-width","2"),circle.setAttribute("opacity","0.9"),circle.setAttribute("r",circleRadius),svg.appendChild(circle),l.appendChild(svg),{width:n,height:s}}function createGrid(){const t=window.innerWidth,n=window.innerHeight,s=50,e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("opacity","0.1"),e.setAttribute("id","grid");for(let i=0;i<=t;i+=s){const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",i),o.setAttribute("y1",0),o.setAttribute("x2",i),o.setAttribute("y2",n),o.setAttribute("stroke","#fff"),o.setAttribute("stroke-width","1"),e.appendChild(o)}for(let i=0;i<=n;i+=s){const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",0),o.setAttribute("y1",i),o.setAttribute("x2",t),o.setAttribute("y2",i),o.setAttribute("stroke","#fff"),o.setAttribute("stroke-width","1"),e.appendChild(o)}svg.appendChild(e)}function createPathGuides(e,t){const o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("id","pathGuides"),o.setAttribute("opacity",showPaths?"0.3":"0");const n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx",e/2),n.setAttribute("cy",t/2),n.setAttribute("r",180),n.setAttribute("fill","none"),n.setAttribute("stroke","#ff6b6b"),n.setAttribute("stroke-width","2"),n.setAttribute("stroke-dasharray","5,5"),o.appendChild(n);const s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("cx",e/2),s.setAttribute("cy",t/2),s.setAttribute("r",120),s.setAttribute("fill","none"),s.setAttribute("stroke","#4ecdc4"),s.setAttribute("stroke-width","2"),s.setAttribute("stroke-dasharray","5,5"),o.appendChild(s),svg.appendChild(o)}function getTrianglePoints(e,t,n,s=0){const o=n*Math.sqrt(3)/2,c=[{x:0,y:-o*2/3},{x:-n/2,y:o*1/3},{x:n/2,y:o*1/3}],i=Math.cos(s),a=Math.sin(s),r=c.map(n=>{const s=n.x*i-n.y*a,o=n.x*a+n.y*i;return{x:e+s,y:t+o}});return{points:r,pointsString:r.map(e=>`${e.x},${e.y}`).join(" ")}}function calculateTrianglePosition(e){const n=window.innerWidth,s=window.innerHeight,o=n/2,i=s/2,t=180,a=o+Math.cos(e)*t,r=i+Math.sin(e)*t,c=e+Math.PI/2;return{x:a,y:r,rotation:c}}function calculateCirclePosition(e){const n=window.innerWidth,s=window.innerHeight,o=n/2,i=s/2,t=120,a=o+Math.cos(-e*1.5)*t,r=i+Math.sin(-e*1.5)*t;return{x:a,y:r}}function pointInTriangle(e,t){const[n,h,d]=t.points,i=d.x-n.x,a=d.y-n.y,r=h.x-n.x,s=h.y-n.y,l=e.x-n.x,c=e.y-n.y,u=i*i+a*a,o=i*r+a*s,m=i*l+a*c,f=r*r+s*s,p=r*l+s*c,g=1/(u*f-o*o),v=(f*m-o*p)*g,b=(u*p-o*m)*g;return v>=0&&b>=0&&v+b<=1}function lineCircleIntersection(e,t,n,s){const o=t.x-e.x,i=t.y-e.y,l=e.x-n.x,d=e.y-n.y,u=o*o+i*i,c=2*(l*o+d*i),p=l*l+d*d-s*s,m=c*c-4*u*p;if(m<0)return[];const f=Math.sqrt(m),a=(-c-f)/(2*u),r=(-c+f)/(2*u),h=[];return a>=0&&a<=1&&h.push({x:e.x+a*o,y:e.y+a*i}),r>=0&&r<=1&&r!==a&&h.push({x:e.x+r*o,y:e.y+r*i}),h}function findTriangleCircleIntersections(e,t,n){const o=[],s=e.points;for(let e=0;e<s.length;e++){const i=s[e],a=s[(e+1)%s.length],r=lineCircleIntersection(i,a,t,n);o.push(...r)}return pointInTriangle(t,e)&&o.push({x:t.x,y:t.y,type:"center-inside-triangle"}),o}function animate(){if(!isAnimating)return;const o=Date.now();startTime===0&&(startTime=o);const e=(o-startTime)*.001*animationSpeed,t=calculateTrianglePosition(e),n=calculateCirclePosition(e),i=getTrianglePoints(t.x,t.y,triangleSize,t.rotation);triangle.setAttribute("points",i.pointsString),circle.setAttribute("cx",n.x),circle.setAttribute("cy",n.y);const s=findTriangleCircleIntersections(i,n,circleRadius);s.forEach(t=>{const n=persistentIntersections.some(e=>Math.abs(e.x-t.x)<5&&Math.abs(e.y-t.y)<5);n||persistentIntersections.push({...t,timestamp:e,id:Date.now()+Math.random()})}),persistentIntersections=persistentIntersections.filter(t=>e-t.timestamp<10),updateIntersectionDisplay(s),updatePersistentIntersectionDisplay(),updateInfoText(t,n,s.length,persistentIntersections.length,e),animationId=requestAnimationFrame(animate)}function updateIntersectionDisplay(e){const t=svg.querySelectorAll(".current-intersection");t.forEach(e=>svg.removeChild(e)),e.forEach((e)=>{const n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx",e.x),n.setAttribute("cy",e.y),n.setAttribute("r","8"),n.setAttribute("fill","#ff9ff3"),n.setAttribute("stroke","#fff"),n.setAttribute("stroke-width","3"),n.setAttribute("opacity","0.9"),n.setAttribute("class","current-intersection");const s=document.createElementNS("http://www.w3.org/2000/svg","animate");s.setAttribute("attributeName","r"),s.setAttribute("values","8;12;8"),s.setAttribute("dur","1s"),s.setAttribute("repeatCount","indefinite"),n.appendChild(s),svg.appendChild(n)})}function updatePersistentIntersectionDisplay(){const e=svg.querySelectorAll(".persistent-intersection");e.forEach(e=>svg.removeChild(e)),persistentIntersections.forEach(e=>{const n=Date.now()*.001-e.timestamp,s=Math.max(.1,1-n/10),t=document.createElementNS("http://www.w3.org/2000/svg","circle");t.setAttribute("cx",e.x),t.setAttribute("cy",e.y),t.setAttribute("r","4"),t.setAttribute("fill","#ffff00"),t.setAttribute("stroke","#fff"),t.setAttribute("stroke-width","1"),t.setAttribute("opacity",s),t.setAttribute("class","persistent-intersection"),svg.appendChild(t)})}function updateInfoText(e,t,n,s,o){const a=svg.querySelector("#infoText");a&&svg.removeChild(a);const i=document.createElementNS("http://www.w3.org/2000/svg","g");i.setAttribute("id","infoText");const r=[`Triangle: (${Math.round(e.x)}, ${Math.round(e.y)}) | Rotation: ${(e.rotation*180/Math.PI).toFixed(1)}¬∞`,`Circle: (${Math.round(t.x)}, ${Math.round(t.y)}) | Radius: ${circleRadius}px`,`Current Intersections: ${n} | Total Detected: ${s}`,`Speed: ${animationSpeed.toFixed(1)}x | Time: ${o.toFixed(1)}s`,`üî¥ Active intersections | üü° Recent intersections (fade over 10s)`];r.forEach((e,t)=>{const n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttribute("x","20"),n.setAttribute("y",30+t*20),n.setAttribute("fill","#fff"),n.setAttribute("font-size","14"),n.setAttribute("font-family","monospace"),n.textContent=e,i.appendChild(n)}),svg.appendChild(i)}function startAnimation(){stopAnimation(),startTime=0,isAnimating=!0,persistentIntersections=[],initializeSVG(),animate()}function stopAnimation(){isAnimating=!1,animationId&&(cancelAnimationFrame(animationId),animationId=null)}function togglePaths(){showPaths=!showPaths;const e=svg.querySelector("#pathGuides");e&&e.setAttribute("opacity",showPaths?"0.3":"0")}function clearIntersections(){persistentIntersections=[],updatePersistentIntersectionDisplay()}function updateSpeed(e){animationSpeed=parseFloat(e),document.getElementById("speedValue").textContent=`${animationSpeed.toFixed(1)}x`}initializeSVG(),window.addEventListener("resize",()=>{isAnimating?(stopAnimation(),setTimeout(()=>{startAnimation()},100)):initializeSVG()})</script><h2 id=triangle-circle-intersection-detection>Triangle-Circle Intersection Detection</h2><h3 id=intersection-algorithm><strong>Intersection Algorithm:</strong></h3><h4 id=1-line-circle-intersection>1. <strong>Line-Circle Intersection</strong></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>lineCircleIntersection</span>(<span style=color:#a6e22e>lineStart</span>, <span style=color:#a6e22e>lineEnd</span>, <span style=color:#a6e22e>circleCenter</span>, <span style=color:#a6e22e>radius</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Convert to quadratic equation: at¬≤ + bt + c = 0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>dx</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>lineEnd</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>lineStart</span>.<span style=color:#a6e22e>x</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>dy</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>lineEnd</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>lineStart</span>.<span style=color:#a6e22e>y</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>fx</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>lineStart</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>circleCenter</span>.<span style=color:#a6e22e>x</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>fy</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>lineStart</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>circleCenter</span>.<span style=color:#a6e22e>y</span>;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dx</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dx</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>dy</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dy</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> (<span style=color:#a6e22e>fx</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dx</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>fy</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dy</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>c</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>fx</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>fx</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>fy</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>fy</span>) <span style=color:#f92672>-</span> <span style=color:#a6e22e>radius</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>radius</span>;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>discriminant</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>4</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>c</span>;
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Returns intersection points on triangle edges
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h4 id=2-point-in-triangle-test>2. <strong>Point-in-Triangle Test</strong></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>pointInTriangle</span>(<span style=color:#a6e22e>point</span>, <span style=color:#a6e22e>triangle</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Barycentric coordinate system
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// Tests if circle center is inside triangle
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>u</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>dot11</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dot02</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>dot01</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dot12</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>invDenom</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>dot00</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dot12</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>dot01</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dot02</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>invDenom</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (<span style=color:#a6e22e>u</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>) <span style=color:#f92672>&amp;&amp;</span> (<span style=color:#a6e22e>v</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>) <span style=color:#f92672>&amp;&amp;</span> (<span style=color:#a6e22e>u</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=motion-paths><strong>Motion Paths:</strong></h3><h4 id=triangle-path-large-circle---clockwise><strong>Triangle Path (Large Circle - Clockwise)</strong></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Large circular orbit - triangle moves clockwise
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>centerX</span> <span style=color:#f92672>+</span> Math.<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>time</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>180</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>centerY</span> <span style=color:#f92672>+</span> Math.<span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>time</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>180</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>rotation</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>time</span> <span style=color:#f92672>+</span> Math.<span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>; <span style=color:#75715e>// Points in movement direction
</span></span></span></code></pre></div><h4 id=circle-path-small-circle---counter-clockwise><strong>Circle Path (Small Circle - Counter-clockwise)</strong></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Smaller, faster circular orbit - circle moves counter-clockwise
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>centerX</span> <span style=color:#f92672>+</span> Math.<span style=color:#a6e22e>cos</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>time</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>1.5</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>120</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>centerY</span> <span style=color:#f92672>+</span> Math.<span style=color:#a6e22e>sin</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>time</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>1.5</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>120</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>// Opposite direction and 1.5x speed creates regular intersections
</span></span></span></code></pre></div><h3 id=intersection-visualization><strong>Intersection Visualization:</strong></h3><ul><li><strong>üî¥ Active Intersections</strong>: Real-time intersection points (pulsing red circles)</li><li><strong>üü° Persistent Markers</strong>: Historical intersection points that fade over 10 seconds</li><li><strong>Path Guides</strong>: Dashed lines showing the movement paths (toggleable)</li><li><strong>Live Statistics</strong>: Current and total intersection counts</li></ul><h3 id=detection-features><strong>Detection Features:</strong></h3><h4 id=real-time-processing><strong>Real-time Processing</strong></h4><ul><li>Detects intersections between triangle edges and circle perimeter</li><li>Handles special case when circle center is inside triangle</li><li>Avoids duplicate detection with proximity checking</li><li>Maintains persistent history with automatic cleanup</li></ul><h4 id=visual-feedback><strong>Visual Feedback</strong></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Current intersections: pulsing animation
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>animate</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>createElementNS</span>(<span style=color:#e6db74>&#39;http://www.w3.org/2000/svg&#39;</span>, <span style=color:#e6db74>&#39;animate&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>animate</span>.<span style=color:#a6e22e>setAttribute</span>(<span style=color:#e6db74>&#39;attributeName&#39;</span>, <span style=color:#e6db74>&#39;r&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>animate</span>.<span style=color:#a6e22e>setAttribute</span>(<span style=color:#e6db74>&#39;values&#39;</span>, <span style=color:#e6db74>&#39;8;12;8&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Persistent intersections: fade over time
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>opacity</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>max</span>(<span style=color:#ae81ff>0.1</span>, <span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>age</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>10</span>);
</span></span></code></pre></div><h3 id=interactive-controls><strong>Interactive Controls:</strong></h3><ul><li><strong>Start/Stop Animation</strong>: Control the intersection detection process</li><li><strong>Toggle Paths</strong>: Show/hide the curved path guides</li><li><strong>Clear Points</strong>: Remove all persistent intersection markers</li><li><strong>Speed Control</strong>: Adjust animation speed from 0.5x to 3x</li></ul><h3 id=mathematical-precision><strong>Mathematical Precision:</strong></h3><h4 id=geometric-algorithms><strong>Geometric Algorithms</strong></h4><ul><li><strong>Quadratic Formula</strong>: Precise line-circle intersection calculation</li><li><strong>Barycentric Coordinates</strong>: Accurate point-in-triangle testing</li><li><strong>Parametric Curves</strong>: Smooth mathematical motion paths</li><li><strong>Temporal Tracking</strong>: Time-based intersection history</li></ul><p>This demonstrates advanced geometric intersection detection with real-time visualization, combining mathematical precision with interactive feedback systems!</p><div><div>Tags:</div><ul><li><a href=/tags/svg/>Svg</a></li><li><a href=/tags/javascript/>Javascript</a></li><li><a href=/tags/geometry/>Geometry</a></li><li><a href=/tags/intersection/>Intersection</a></li><li><a href=/tags/curves/>Curves</a></li><li><a href=/tags/interactive/>Interactive</a></li></ul></div></main><footer><p>Copyright 2025. All rights reserved.</p></footer></body></html>