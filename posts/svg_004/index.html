<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Line Intersection Detection and Splitting | Theta Nil's Site</title><link rel=stylesheet href=/css/main.min.d3d5b8ca2074940c1acb08ba40a136ce406e2d402282392bd5d24566a4c3aea8.css integrity="sha256-09W4yiB0lAwaywi6QKE2zkBuLUAigjkr1dJFZqTDrqg=" crossorigin=anonymous><script src=/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js integrity="sha256-I80MfYNyY7nq65buLZzPopadqj+gD6HB/ocBqbhyUaE=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js></script><script>function getMermaidTheme(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"default"}function initializeMermaid(){mermaid.initialize({startOnLoad:!1,theme:getMermaidTheme(),securityLevel:"loose",fontFamily:"inherit",themeVariables:{primaryColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#66b3ff":"#00e",primaryTextColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#e8e8e8":"#222",primaryBorderColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#444":"#222",lineColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#444":"#222",sectionBkgColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#2a2a2a":"#f9f9f9",altSectionBkgColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#1a1a1a":"#fff",gridColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#444":"#e0e0e0",tertiaryColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#3a3a3a":"#f0f0f0"}})}function processMermaidBlocks(){const e=document.querySelectorAll("code.language-mermaid");e.forEach((e,t)=>{const n=document.createElement("div");n.className="mermaid",n.id="mermaid-"+t,n.textContent=e.textContent;const s=e.parentElement;s.parentElement.replaceChild(n,s)}),e.length>0&&mermaid.init()}if(document.addEventListener("DOMContentLoaded",function(){initializeMermaid(),processMermaidBlocks()}),window.matchMedia){const e=window.matchMedia("(prefers-color-scheme: dark)");e.addEventListener("change",function(){initializeMermaid();const t=document.querySelectorAll(".mermaid");t.forEach((e,t)=>{e.id="mermaid-rerender-"+t,e.removeAttribute("data-processed")}),t.length>0&&mermaid.init()})}</script></head><body><header><div class=site-header><h1 class=site-title>Theta Nil's Site</h1><nav class=site-nav><nav><ul><li><a href=/>Home</a></li><li><a aria-current=true class=ancestor href=/posts/>Posts</a></li><li><a href=/tags/>Tags</a></li></ul></nav></nav></div></header><main><div class=site-content><div class=site-content><h1>Line Intersection Detection and Splitting</h1><time datetime=2025-10-08T00:00:00+00:00>October 8, 2025</time><p>This post demonstrates efficient line intersection detection using SVG-optimized techniques, with automatic circle placement and visual line splitting effects.</p><h3 id=intersection-demos>Intersection Demos:</h3><div style="display:flex;flex-wrap:wrap;gap:10px;margin:10px 0"><button onclick=stopAnimation(),createStaticIntersectionDemo() style="padding:10px 15px;background:#4caf50;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:120px">Static Intersections</button>
<button onclick=stopAnimation(),createInteractiveDemo() style="padding:10px 15px;background:#2196f3;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:120px">Interactive Lines</button>
<button onclick=startAnimation() style="padding:10px 15px;background:#ff9800;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:120px">üé¨ Animated Intersections</button>
<button onclick=stopAnimation() style="padding:10px 15px;background:#f44336;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:120px">‚èπÔ∏è Stop Animation</button></div><div id=svg-container style=width:100%;height:100vh;margin:0;padding:0;background:#111></div><script>function bboxIntersect(e,t){return!(e.x+e.width<t.x||t.x+t.width<e.x||e.y+e.height<t.y||t.y+t.height<e.y)}function getLineFromElement(e){return{x1:parseFloat(e.getAttribute("x1")),y1:parseFloat(e.getAttribute("y1")),x2:parseFloat(e.getAttribute("x2")),y2:parseFloat(e.getAttribute("y2"))}}function lineIntersection(e,t){const n=e.x1,s=e.y1,r=e.x2,c=e.y2,i=t.x1,a=t.y1,u=t.x2,h=t.y2,l=(n-r)*(a-h)-(s-c)*(i-u);if((l<0?-l:l)<1e-10)return null;const o=((n-i)*(a-h)-(s-a)*(i-u))/l,d=-((n-r)*(s-a)-(s-c)*(n-i))/l;return o>=0&&o<=1&&d>=0&&d<=1?{x:n+o*(r-n),y:s+o*(c-s),t1:o,t2:d}:null}let animationId=null,isAnimating=!1,lines=[],intersections=[],isDragging=!1,dragTarget=null,dragOffset={x:0,y:0};function createStaticIntersectionDemo(){const l=document.getElementById("svg-container"),t=window.innerWidth,n=window.innerHeight;l.innerHTML="";const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("width","100%"),e.setAttribute("height","auto"),e.setAttribute("viewBox",`0 0 ${t} ${n}`),e.style.display="block",e.style.background="#111";const d=document.createElementNS("http://www.w3.org/2000/svg","defs"),o=document.createElementNS("http://www.w3.org/2000/svg","pattern");o.setAttribute("id","grid"),o.setAttribute("width","50"),o.setAttribute("height","50"),o.setAttribute("patternUnits","userSpaceOnUse");const i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d","M 50 0 L 0 0 0 50"),i.setAttribute("fill","none"),i.setAttribute("stroke","#333"),i.setAttribute("stroke-width","1"),i.setAttribute("opacity","0.3"),o.appendChild(i),d.appendChild(o),e.appendChild(d);const r=document.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("fill","url(#grid)"),e.appendChild(r);const u=[{x1:100,y1:100,x2:t-100,y2:n-100,color:"#ff6b6b"},{x1:t-100,y1:100,x2:100,y2:n-100,color:"#4ecdc4"},{x1:t*.2,y1:n*.8,x2:t*.8,y2:n*.2,color:"#45b7d1"},{x1:t*.5,y1:50,x2:t*.5,y2:n-50,color:"#96ceb4"},{x1:50,y1:n*.5,x2:t-50,y2:n*.5,color:"#ffeaa7"}];u.forEach((t,n)=>{const s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("x1",t.x1),s.setAttribute("y1",t.y1),s.setAttribute("x2",t.x2),s.setAttribute("y2",t.y2),s.setAttribute("stroke",t.color),s.setAttribute("stroke-width","3"),s.setAttribute("opacity","0.8"),s.setAttribute("id",`line-${n}`),e.appendChild(s)});const a=e.querySelectorAll("line"),c=[];for(let e=0;e<a.length;e++)for(let t=e+1;t<a.length;t++){const n=getLineFromElement(a[e]),s=getLineFromElement(a[t]),o=a[e].getBBox(),i=a[t].getBBox();if(bboxIntersect(o,i)){const o=lineIntersection(n,s);o&&c.push({...o,line1Index:e,line2Index:t})}}c.forEach((t)=>{const s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("cx",t.x),s.setAttribute("cy",t.y),s.setAttribute("r","8"),s.setAttribute("fill","#ff9ff3"),s.setAttribute("stroke","#fff"),s.setAttribute("stroke-width","2"),s.setAttribute("opacity","0.9");const i=document.createElementNS("http://www.w3.org/2000/svg","animate");i.setAttribute("attributeName","r"),i.setAttribute("values","8;12;8"),i.setAttribute("dur","2s"),i.setAttribute("repeatCount","indefinite"),s.appendChild(i),e.appendChild(s);const o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("x",t.x+15),o.setAttribute("y",t.y-10),o.setAttribute("fill","#fff"),o.setAttribute("font-size","12"),o.setAttribute("font-family","monospace"),o.textContent=`(${Math.round(t.x)}, ${Math.round(t.y)})`,e.appendChild(o)});const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("x","20"),s.setAttribute("y","30"),s.setAttribute("fill","#fff"),s.setAttribute("font-size","16"),s.setAttribute("font-family","monospace"),s.textContent=`Intersections found: ${c.length}`,e.appendChild(s),l.appendChild(e)}function createInteractiveDemo(){const s=document.getElementById("svg-container"),t=window.innerWidth,n=window.innerHeight;s.innerHTML="";const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("width","100%"),e.setAttribute("height","auto"),e.setAttribute("viewBox",`0 0 ${t} ${n}`),e.style.display="block",e.style.background="#111",e.style.cursor="crosshair",lines=[{x1:200,y1:200,x2:t-200,y2:n-200,color:"#ff6b6b"},{x1:t-200,y1:200,x2:200,y2:n-200,color:"#4ecdc4"},{x1:t*.3,y1:n*.8,x2:t*.7,y2:n*.2,color:"#45b7d1"}];function o(){for(;e.firstChild;)e.removeChild(e.firstChild);intersections=[];for(let e=0;e<lines.length;e++)for(let t=e+1;t<lines.length;t++){const n=lineIntersection(lines[e],lines[t]);n&&intersections.push({...n,line1:e,line2:t})}lines.forEach((t,n)=>{const s=i(t,n);s.forEach((n)=>{const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",n.x1),o.setAttribute("y1",n.y1),o.setAttribute("x2",n.x2),o.setAttribute("y2",n.y2),o.setAttribute("stroke",t.color),o.setAttribute("stroke-width","4"),o.setAttribute("opacity",n.isGap?"0.3":"0.9"),o.setAttribute("stroke-dasharray",n.isGap?"5,5":"none"),e.appendChild(o)}),[{x:t.x1,y:t.y1,type:"start"},{x:t.x2,y:t.y2,type:"end"}].forEach(s=>{const o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx",s.x),o.setAttribute("cy",s.y),o.setAttribute("r","8"),o.setAttribute("fill",t.color),o.setAttribute("stroke","#fff"),o.setAttribute("stroke-width","2"),o.setAttribute("opacity","0.8"),o.style.cursor="grab",o.dataset.lineIndex=n,o.dataset.pointType=s.type,e.appendChild(o)})}),intersections.forEach((t)=>{const s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("cx",t.x),s.setAttribute("cy",t.y),s.setAttribute("r","6"),s.setAttribute("fill","#ff9ff3a0"),s.setAttribute("stroke","#ff9ff3"),s.setAttribute("stroke-width","2"),e.appendChild(s)});const t=document.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("x","20"),t.setAttribute("y","30"),t.setAttribute("fill","#fff"),t.setAttribute("font-size","14"),t.setAttribute("font-family","Arial"),t.textContent=`Drag line endpoints to see intersections update | Intersections: ${intersections.length}`,e.appendChild(t)}function i(e,t){const o=intersections.filter(e=>e.line1===t||e.line2===t).map(e=>({x:e.x,y:e.y,t:e.line1===t?e.t1:e.t2})).sort((e,t)=>e.t-t.t);if(o.length===0)return[e];const s=[];let n=0;return o.forEach((t)=>{t.t>n&&s.push({x1:e.x1+n*(e.x2-e.x1),y1:e.y1+n*(e.y2-e.y1),x2:e.x1+t.t*(e.x2-e.x1),y2:e.y1+t.t*(e.y2-e.y1),isGap:!1});const a=.02,r=Math.max(0,t.t-a),i=Math.min(1,t.t+a);i<1&&s.push({x1:e.x1+r*(e.x2-e.x1),y1:e.y1+r*(e.y2-e.y1),x2:e.x1+i*(e.x2-e.x1),y2:e.y1+i*(e.y2-e.y1),isGap:!0}),n=i}),n<1&&s.push({x1:e.x1+n*(e.x2-e.x1),y1:e.y1+n*(e.y2-e.y1),x2:e.x2,y2:e.y2,isGap:!1}),s}e.addEventListener("mousedown",t=>{const s=e.getBoundingClientRect(),o=t.clientX-s.left,i=t.clientY-s.top,n=t.target;n.dataset.lineIndex!==0[0]&&(isDragging=!0,dragTarget={lineIndex:parseInt(n.dataset.lineIndex),pointType:n.dataset.pointType},n.style.cursor="grabbing")}),e.addEventListener("mousemove",t=>{if(!isDragging||!dragTarget)return;const s=e.getBoundingClientRect(),i=t.clientX-s.left,a=t.clientY-s.top,n=lines[dragTarget.lineIndex];dragTarget.pointType==="start"?(n.x1=i,n.y1=a):(n.x2=i,n.y2=a),o()}),e.addEventListener("mouseup",()=>{isDragging=!1,dragTarget=null,e.querySelectorAll("circle").forEach(e=>{e.style.cursor="grab"})}),o(),s.appendChild(e)}function createAnimatedIntersections(){const s=document.getElementById("svg-container"),t=window.innerWidth,n=window.innerHeight;s.innerHTML="";const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("width","100%"),e.setAttribute("height","auto"),e.setAttribute("viewBox",`0 0 ${t} ${n}`),e.style.display="block",e.style.background="#111";function o(){if(!isAnimating)return;const i=Date.now()*.001;for(;e.firstChild;)e.removeChild(e.firstChild);const a=[{x1:t*.1,y1:n*.5+Math.sin(i)*n*.3,x2:t*.9,y2:n*.5+Math.cos(i*1.3)*n*.3,color:"#ff6b6b"},{x1:t*.5+Math.cos(i*.7)*t*.3,y1:n*.1,x2:t*.5+Math.sin(i*.9)*t*.3,y2:n*.9,color:"#4ecdc4"},{x1:t*.2+Math.sin(i*1.1)*t*.2,y1:n*.8,x2:t*.8+Math.cos(i*.8)*t*.2,y2:n*.2,color:"#45b7d1"}];a.forEach(t=>{const n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("x1",t.x1),n.setAttribute("y1",t.y1),n.setAttribute("x2",t.x2),n.setAttribute("y2",t.y2),n.setAttribute("stroke",t.color),n.setAttribute("stroke-width","3"),n.setAttribute("opacity","0.8"),e.appendChild(n)});const r=[];for(let e=0;e<a.length;e++)for(let t=e+1;t<a.length;t++){const n=lineIntersection(a[e],a[t]);n&&r.push(n)}r.forEach(t=>{const n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx",t.x),n.setAttribute("cy",t.y),n.setAttribute("r","10"),n.setAttribute("fill","#ff9ff3"),n.setAttribute("stroke","#fff"),n.setAttribute("stroke-width","2"),n.setAttribute("opacity","0.9"),e.appendChild(n);const s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("cx",t.x),s.setAttribute("cy",t.y),s.setAttribute("r","15"),s.setAttribute("fill","none"),s.setAttribute("stroke","#ff9ff3"),s.setAttribute("stroke-width","1"),s.setAttribute("opacity","0.5"),e.appendChild(s)});const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("x","20"),s.setAttribute("y","30"),s.setAttribute("fill","#fff"),s.setAttribute("font-size","16"),s.setAttribute("font-family","monospace"),s.textContent=`Live Intersections: ${r.length}`,e.appendChild(s),animationId=requestAnimationFrame(o)}s.appendChild(e),o()}function startAnimation(){isAnimating=!0,createAnimatedIntersections()}function stopAnimation(){isAnimating=!1,animationId&&(cancelAnimationFrame(animationId),animationId=null)}createStaticIntersectionDemo(),window.addEventListener("resize",()=>{isAnimating||createStaticIntersectionDemo()})</script><h2 id=svg-optimization-techniques>SVG Optimization Techniques</h2><h3 id=1-bounding-box-pre-filtering>1. <strong>Bounding Box Pre-filtering</strong></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>bboxIntersect</span>(<span style=color:#a6e22e>bbox1</span>, <span style=color:#a6e22e>bbox2</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#f92672>!</span>(<span style=color:#a6e22e>bbox1</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>bbox1</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>bbox2</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>||</span> 
</span></span><span style=display:flex><span>             <span style=color:#a6e22e>bbox2</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>bbox2</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>bbox1</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>||</span> 
</span></span><span style=display:flex><span>             <span style=color:#a6e22e>bbox1</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>bbox1</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>bbox2</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>||</span> 
</span></span><span style=display:flex><span>             <span style=color:#a6e22e>bbox2</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>bbox2</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>bbox1</span>.<span style=color:#a6e22e>y</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Quick elimination before expensive intersection math
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>bboxIntersect</span>(<span style=color:#a6e22e>line1</span>.<span style=color:#a6e22e>getBBox</span>(), <span style=color:#a6e22e>line2</span>.<span style=color:#a6e22e>getBBox</span>())) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Only then do precise intersection calculation
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h3 id=2-svg-coordinate-extraction>2. <strong>SVG Coordinate Extraction</strong></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getLineFromElement</span>(<span style=color:#a6e22e>line</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>x1</span><span style=color:#f92672>:</span> parseFloat(<span style=color:#a6e22e>line</span>.<span style=color:#a6e22e>getAttribute</span>(<span style=color:#e6db74>&#39;x1&#39;</span>)),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>y1</span><span style=color:#f92672>:</span> parseFloat(<span style=color:#a6e22e>line</span>.<span style=color:#a6e22e>getAttribute</span>(<span style=color:#e6db74>&#39;y1&#39;</span>)),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>x2</span><span style=color:#f92672>:</span> parseFloat(<span style=color:#a6e22e>line</span>.<span style=color:#a6e22e>getAttribute</span>(<span style=color:#e6db74>&#39;x2&#39;</span>)),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>y2</span><span style=color:#f92672>:</span> parseFloat(<span style=color:#a6e22e>line</span>.<span style=color:#a6e22e>getAttribute</span>(<span style=color:#e6db74>&#39;y2&#39;</span>))
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=3-visual-line-splitting>3. <strong>Visual Line Splitting</strong></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getLineSplitSegments</span>(<span style=color:#a6e22e>line</span>, <span style=color:#a6e22e>intersections</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Creates visual gaps at intersection points
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// More efficient than creating separate path elements
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>segments</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>intersections</span>.<span style=color:#a6e22e>forEach</span>(<span style=color:#a6e22e>intersection</span> =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Add gap around intersection point
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>gapSize</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.02</span>; <span style=color:#75715e>// 2% of line length
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// Split line into segments with gaps
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    });
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>segments</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=4-efficient-intersection-algorithm>4. <strong>Efficient Intersection Algorithm</strong></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>lineIntersection</span>(<span style=color:#a6e22e>line1</span>, <span style=color:#a6e22e>line2</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Parametric line intersection
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// Returns null for parallel lines (early exit)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// Checks if intersection is within line segments
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// Returns intersection point with parameter values
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h2 id=performance-features>Performance Features</h2><h3 id=optimization-strategies><strong>Optimization Strategies:</strong></h3><ol><li><strong>Bounding Box Testing</strong>: Quick elimination of non-intersecting line pairs</li><li><strong>SVG Native Coordinates</strong>: Direct attribute access without transformations</li><li><strong>Parametric Intersection</strong>: Mathematical precision with early exits</li><li><strong>Visual Effects</strong>: Line splitting and gap rendering</li><li><strong>Real-time Updates</strong>: Efficient redraw strategies</li></ol><h3 id=interactive-features><strong>Interactive Features:</strong></h3><ul><li><strong>Draggable Endpoints</strong>: Move line endpoints to see live intersection updates</li><li><strong>Visual Splitting</strong>: Lines break at intersection points with dashed gaps</li><li><strong>Real-time Counting</strong>: Dynamic intersection count display</li><li><strong>Smooth Animation</strong>: Moving lines with continuous intersection detection</li></ul><h3 id=svg-specific-benefits><strong>SVG-Specific Benefits:</strong></h3><ul><li><strong>Direct Coordinate Access</strong>: <code>getAttribute()</code> for line positions</li><li><strong>Built-in Bounding Boxes</strong>: <code>getBBox()</code> for quick spatial queries</li><li><strong>Native Rendering</strong>: Hardware-accelerated line and circle drawing</li><li><strong>Event Integration</strong>: Mouse events directly on SVG elements</li></ul><p>This system demonstrates how SVG&rsquo;s built-in features can optimize geometric calculations and provide smooth interactive experiences!</p><div><div>Tags:</div><ul><li><a href=/tags/svg/>Svg</a></li><li><a href=/tags/javascript/>Javascript</a></li><li><a href=/tags/geometry/>Geometry</a></li><li><a href=/tags/intersection/>Intersection</a></li><li><a href=/tags/interactive/>Interactive</a></li></ul></div></div></div></main><footer><p>Copyright 2025. All rights reserved.</p></footer></body></html>