<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Posts | Theta Nil's Site</title><link rel=stylesheet href=/css/main.min.c7a5c1c6627bdd92510df0d2272d0f86694f49366048d0ee3065e20d315759b3.css integrity="sha256-x6XBxmJ73ZJRDfDSJy0PhmlPSTZgSNDuMGXiDTFXWbM=" crossorigin=anonymous><script src=/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js integrity="sha256-I80MfYNyY7nq65buLZzPopadqj+gD6HB/ocBqbhyUaE=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js></script><script>function getMermaidTheme(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"default"}function initializeMermaid(){mermaid.initialize({startOnLoad:!1,theme:getMermaidTheme(),securityLevel:"loose",fontFamily:"inherit",themeVariables:{primaryColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#66b3ff":"#00e",primaryTextColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#e8e8e8":"#222",primaryBorderColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#444":"#222",lineColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#444":"#222",sectionBkgColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#2a2a2a":"#f9f9f9",altSectionBkgColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#1a1a1a":"#fff",gridColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#444":"#e0e0e0",tertiaryColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#3a3a3a":"#f0f0f0"}})}function processMermaidBlocks(){const e=document.querySelectorAll("code.language-mermaid");e.forEach((e,t)=>{const n=document.createElement("div");n.className="mermaid",n.id="mermaid-"+t,n.textContent=e.textContent;const s=e.parentElement;s.parentElement.replaceChild(n,s)}),e.length>0&&mermaid.init()}if(document.addEventListener("DOMContentLoaded",function(){initializeMermaid(),processMermaidBlocks()}),window.matchMedia){const e=window.matchMedia("(prefers-color-scheme: dark)");e.addEventListener("change",function(){initializeMermaid();const t=document.querySelectorAll(".mermaid");t.forEach((e,t)=>{e.id="mermaid-rerender-"+t,e.removeAttribute("data-processed")}),t.length>0&&mermaid.init()})}</script></head><body><header><h1>Theta Nil's Site</h1><nav><ul><li><a href=/>Home</a></li><li><a aria-current=page class=active href=/posts/>Posts</a></li><li><a href=/tags/>Tags</a></li></ul></nav></header><main><h1>Posts</h1><p>Tempor est exercitation ad qui pariatur quis adipisicing aliquip nisi ea consequat ipsum occaecat. Nostrud consequat ullamco laboris fugiat esse esse adipisicing velit laborum ipsum incididunt ut enim. Dolor pariatur nulla quis fugiat dolore excepteur. Aliquip ad quis aliqua enim do consequat.</p><h2><a href=/posts/svg_005/>Triangle-Circle Intersection Detection with Curved Motion</a></h2><p>This post demonstrates real-time intersection detection between a moving triangle and a moving circle, with automatic marking of intersection points as the shapes follow curved paths.</p><h3 id=intersection-demos>Intersection Demos:</h3><div style="display:flex;flex-wrap:wrap;gap:10px;margin:10px 0"><button onclick=startAnimation() style="padding:10px 15px;background:#4caf50;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:120px">üé¨ Start Animation</button>
<button onclick=stopAnimation() style="padding:10px 15px;background:#f44336;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:120px">‚èπÔ∏è Stop Animation</button>
<button onclick=togglePaths() style="padding:10px 15px;background:#2196f3;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:120px">üëÅÔ∏è Toggle Paths</button>
<button onclick=clearIntersections() style="padding:10px 15px;background:#ff9800;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:120px">üßπ Clear Points</button></div><div style="margin:10px 0"><label style=color:#fff;margin-right:10px>Speed:</label>
<input type=range id=speedSlider min=0.5 max=3 step=0.1 value=1 style=margin-right:10px onchange=updateSpeed(this.value)>
<span id=speedValue style=color:#fff>1.0x</span></div><div id=svg-container style=width:100%;height:100vh;margin:0;padding:0;background:#111></div><script>let animationId=null,isAnimating=!1,animationSpeed=1,startTime=0,showPaths=!0;const triangleSize=80,circleRadius=50;let svg=null,triangle=null,circle=null,intersectionPoints=[],persistentIntersections=[];function initializeSVG(){const l=document.getElementById("svg-container"),n=window.innerWidth,s=window.innerHeight;l.innerHTML="",svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),svg.setAttribute("width",n),svg.setAttribute("height",s),svg.setAttribute("viewBox",`0 0 ${n} ${s}`),svg.style.display="block",svg.style.background="#111";const c=document.createElementNS("http://www.w3.org/2000/svg","defs"),e=document.createElementNS("http://www.w3.org/2000/svg","radialGradient");e.setAttribute("id","triangleGradient"),e.setAttribute("cx","50%"),e.setAttribute("cy","50%");const o=document.createElementNS("http://www.w3.org/2000/svg","stop");o.setAttribute("offset","0%"),o.setAttribute("stop-color","#ff6b6b"),o.setAttribute("stop-opacity","0.8");const i=document.createElementNS("http://www.w3.org/2000/svg","stop");i.setAttribute("offset","100%"),i.setAttribute("stop-color","#ff3333"),i.setAttribute("stop-opacity","0.6"),e.appendChild(o),e.appendChild(i),c.appendChild(e);const t=document.createElementNS("http://www.w3.org/2000/svg","radialGradient");t.setAttribute("id","circleGradient"),t.setAttribute("cx","50%"),t.setAttribute("cy","50%");const a=document.createElementNS("http://www.w3.org/2000/svg","stop");a.setAttribute("offset","0%"),a.setAttribute("stop-color","#4ecdc4"),a.setAttribute("stop-opacity","0.8");const r=document.createElementNS("http://www.w3.org/2000/svg","stop");return r.setAttribute("offset","100%"),r.setAttribute("stop-color","#45b7d1"),r.setAttribute("stop-opacity","0.6"),t.appendChild(a),t.appendChild(r),c.appendChild(t),svg.appendChild(c),createGrid(),createPathGuides(n,s),triangle=document.createElementNS("http://www.w3.org/2000/svg","polygon"),triangle.setAttribute("fill","url(#triangleGradient)"),triangle.setAttribute("stroke","#fff"),triangle.setAttribute("stroke-width","2"),triangle.setAttribute("opacity","0.9"),svg.appendChild(triangle),circle=document.createElementNS("http://www.w3.org/2000/svg","circle"),circle.setAttribute("fill","url(#circleGradient)"),circle.setAttribute("stroke","#fff"),circle.setAttribute("stroke-width","2"),circle.setAttribute("opacity","0.9"),circle.setAttribute("r",circleRadius),svg.appendChild(circle),l.appendChild(svg),{width:n,height:s}}function createGrid(){const t=window.innerWidth,n=window.innerHeight,s=50,e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("opacity","0.1"),e.setAttribute("id","grid");for(let i=0;i<=t;i+=s){const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",i),o.setAttribute("y1",0),o.setAttribute("x2",i),o.setAttribute("y2",n),o.setAttribute("stroke","#fff"),o.setAttribute("stroke-width","1"),e.appendChild(o)}for(let i=0;i<=n;i+=s){const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",0),o.setAttribute("y1",i),o.setAttribute("x2",t),o.setAttribute("y2",i),o.setAttribute("stroke","#fff"),o.setAttribute("stroke-width","1"),e.appendChild(o)}svg.appendChild(e)}function createPathGuides(e,t){const o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("id","pathGuides"),o.setAttribute("opacity",showPaths?"0.3":"0");const n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx",e/2),n.setAttribute("cy",t/2),n.setAttribute("r",180),n.setAttribute("fill","none"),n.setAttribute("stroke","#ff6b6b"),n.setAttribute("stroke-width","2"),n.setAttribute("stroke-dasharray","5,5"),o.appendChild(n);const s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("cx",e/2),s.setAttribute("cy",t/2),s.setAttribute("r",120),s.setAttribute("fill","none"),s.setAttribute("stroke","#4ecdc4"),s.setAttribute("stroke-width","2"),s.setAttribute("stroke-dasharray","5,5"),o.appendChild(s),svg.appendChild(o)}function getTrianglePoints(e,t,n,s=0){const o=n*Math.sqrt(3)/2,c=[{x:0,y:-o*2/3},{x:-n/2,y:o*1/3},{x:n/2,y:o*1/3}],i=Math.cos(s),a=Math.sin(s),r=c.map(n=>{const s=n.x*i-n.y*a,o=n.x*a+n.y*i;return{x:e+s,y:t+o}});return{points:r,pointsString:r.map(e=>`${e.x},${e.y}`).join(" ")}}function calculateTrianglePosition(e){const n=window.innerWidth,s=window.innerHeight,o=n/2,i=s/2,t=180,a=o+Math.cos(e)*t,r=i+Math.sin(e)*t,c=e+Math.PI/2;return{x:a,y:r,rotation:c}}function calculateCirclePosition(e){const n=window.innerWidth,s=window.innerHeight,o=n/2,i=s/2,t=120,a=o+Math.cos(-e*1.5)*t,r=i+Math.sin(-e*1.5)*t;return{x:a,y:r}}function pointInTriangle(e,t){const[n,h,d]=t.points,i=d.x-n.x,a=d.y-n.y,r=h.x-n.x,s=h.y-n.y,l=e.x-n.x,c=e.y-n.y,u=i*i+a*a,o=i*r+a*s,m=i*l+a*c,f=r*r+s*s,p=r*l+s*c,g=1/(u*f-o*o),v=(f*m-o*p)*g,b=(u*p-o*m)*g;return v>=0&&b>=0&&v+b<=1}function lineCircleIntersection(e,t,n,s){const o=t.x-e.x,i=t.y-e.y,l=e.x-n.x,d=e.y-n.y,u=o*o+i*i,c=2*(l*o+d*i),p=l*l+d*d-s*s,m=c*c-4*u*p;if(m<0)return[];const f=Math.sqrt(m),a=(-c-f)/(2*u),r=(-c+f)/(2*u),h=[];return a>=0&&a<=1&&h.push({x:e.x+a*o,y:e.y+a*i}),r>=0&&r<=1&&r!==a&&h.push({x:e.x+r*o,y:e.y+r*i}),h}function findTriangleCircleIntersections(e,t,n){const o=[],s=e.points;for(let e=0;e<s.length;e++){const i=s[e],a=s[(e+1)%s.length],r=lineCircleIntersection(i,a,t,n);o.push(...r)}return pointInTriangle(t,e)&&o.push({x:t.x,y:t.y,type:"center-inside-triangle"}),o}function animate(){if(!isAnimating)return;const o=Date.now();startTime===0&&(startTime=o);const e=(o-startTime)*.001*animationSpeed,t=calculateTrianglePosition(e),n=calculateCirclePosition(e),i=getTrianglePoints(t.x,t.y,triangleSize,t.rotation);triangle.setAttribute("points",i.pointsString),circle.setAttribute("cx",n.x),circle.setAttribute("cy",n.y);const s=findTriangleCircleIntersections(i,n,circleRadius);s.forEach(t=>{const n=persistentIntersections.some(e=>Math.abs(e.x-t.x)<5&&Math.abs(e.y-t.y)<5);n||persistentIntersections.push({...t,timestamp:e,id:Date.now()+Math.random()})}),persistentIntersections=persistentIntersections.filter(t=>e-t.timestamp<10),updateIntersectionDisplay(s),updatePersistentIntersectionDisplay(),updateInfoText(t,n,s.length,persistentIntersections.length,e),animationId=requestAnimationFrame(animate)}function updateIntersectionDisplay(e){const t=svg.querySelectorAll(".current-intersection");t.forEach(e=>svg.removeChild(e)),e.forEach((e)=>{const n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx",e.x),n.setAttribute("cy",e.y),n.setAttribute("r","8"),n.setAttribute("fill","#ff9ff3"),n.setAttribute("stroke","#fff"),n.setAttribute("stroke-width","3"),n.setAttribute("opacity","0.9"),n.setAttribute("class","current-intersection");const s=document.createElementNS("http://www.w3.org/2000/svg","animate");s.setAttribute("attributeName","r"),s.setAttribute("values","8;12;8"),s.setAttribute("dur","1s"),s.setAttribute("repeatCount","indefinite"),n.appendChild(s),svg.appendChild(n)})}function updatePersistentIntersectionDisplay(){const e=svg.querySelectorAll(".persistent-intersection");e.forEach(e=>svg.removeChild(e)),persistentIntersections.forEach(e=>{const n=Date.now()*.001-e.timestamp,s=Math.max(.1,1-n/10),t=document.createElementNS("http://www.w3.org/2000/svg","circle");t.setAttribute("cx",e.x),t.setAttribute("cy",e.y),t.setAttribute("r","4"),t.setAttribute("fill","#ffff00"),t.setAttribute("stroke","#fff"),t.setAttribute("stroke-width","1"),t.setAttribute("opacity",s),t.setAttribute("class","persistent-intersection"),svg.appendChild(t)})}function updateInfoText(e,t,n,s,o){const a=svg.querySelector("#infoText");a&&svg.removeChild(a);const i=document.createElementNS("http://www.w3.org/2000/svg","g");i.setAttribute("id","infoText");const r=[`Triangle: (${Math.round(e.x)}, ${Math.round(e.y)}) | Rotation: ${(e.rotation*180/Math.PI).toFixed(1)}¬∞`,`Circle: (${Math.round(t.x)}, ${Math.round(t.y)}) | Radius: ${circleRadius}px`,`Current Intersections: ${n} | Total Detected: ${s}`,`Speed: ${animationSpeed.toFixed(1)}x | Time: ${o.toFixed(1)}s`,`üî¥ Active intersections | üü° Recent intersections (fade over 10s)`];r.forEach((e,t)=>{const n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttribute("x","20"),n.setAttribute("y",30+t*20),n.setAttribute("fill","#fff"),n.setAttribute("font-size","14"),n.setAttribute("font-family","monospace"),n.textContent=e,i.appendChild(n)}),svg.appendChild(i)}function startAnimation(){stopAnimation(),startTime=0,isAnimating=!0,persistentIntersections=[],initializeSVG(),animate()}function stopAnimation(){isAnimating=!1,animationId&&(cancelAnimationFrame(animationId),animationId=null)}function togglePaths(){showPaths=!showPaths;const e=svg.querySelector("#pathGuides");e&&e.setAttribute("opacity",showPaths?"0.3":"0")}function clearIntersections(){persistentIntersections=[],updatePersistentIntersectionDisplay()}function updateSpeed(e){animationSpeed=parseFloat(e),document.getElementById("speedValue").textContent=`${animationSpeed.toFixed(1)}x`}initializeSVG(),window.addEventListener("resize",()=>{isAnimating?(stopAnimation(),setTimeout(()=>{startAnimation()},100)):initializeSVG()})</script><h2 id=triangle-circle-intersection-detection>Triangle-Circle Intersection Detection</h2><h3 id=intersection-algorithm><strong>Intersection Algorithm:</strong></h3><h4 id=1-line-circle-intersection>1. <strong>Line-Circle Intersection</strong></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>lineCircleIntersection</span>(<span style=color:#a6e22e>lineStart</span>, <span style=color:#a6e22e>lineEnd</span>, <span style=color:#a6e22e>circleCenter</span>, <span style=color:#a6e22e>radius</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Convert to quadratic equation: at¬≤ + bt + c = 0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>dx</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>lineEnd</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>lineStart</span>.<span style=color:#a6e22e>x</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>dy</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>lineEnd</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>lineStart</span>.<span style=color:#a6e22e>y</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>fx</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>lineStart</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>circleCenter</span>.<span style=color:#a6e22e>x</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>fy</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>lineStart</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>circleCenter</span>.<span style=color:#a6e22e>y</span>;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dx</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dx</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>dy</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dy</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> (<span style=color:#a6e22e>fx</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dx</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>fy</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dy</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>c</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>fx</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>fx</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>fy</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>fy</span>) <span style=color:#f92672>-</span> <span style=color:#a6e22e>radius</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>radius</span>;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>discriminant</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>4</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>c</span>;
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Returns intersection points on triangle edges
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h4 id=2-point-in-triangle-test>2. <strong>Point-in-Triangle Test</strong></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>pointInTriangle</span>(<span style=color:#a6e22e>point</span>, <span style=color:#a6e22e>triangle</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Barycentric coordinate system
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// Tests if circle center is inside triangle
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>u</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>dot11</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dot02</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>dot01</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dot12</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>invDenom</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>dot00</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dot12</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>dot01</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dot02</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>invDenom</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (<span style=color:#a6e22e>u</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>) <span style=color:#f92672>&amp;&amp;</span> (<span style=color:#a6e22e>v</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>) <span style=color:#f92672>&amp;&amp;</span> (<span style=color:#a6e22e>u</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=motion-paths><strong>Motion Paths:</strong></h3><h4 id=triangle-path-large-circle---clockwise><strong>Triangle Path (Large Circle - Clockwise)</strong></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Large circular orbit - triangle moves clockwise
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>centerX</span> <span style=color:#f92672>+</span> Math.<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>time</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>180</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>centerY</span> <span style=color:#f92672>+</span> Math.<span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>time</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>180</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>rotation</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>time</span> <span style=color:#f92672>+</span> Math.<span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>; <span style=color:#75715e>// Points in movement direction
</span></span></span></code></pre></div><h4 id=circle-path-small-circle---counter-clockwise><strong>Circle Path (Small Circle - Counter-clockwise)</strong></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Smaller, faster circular orbit - circle moves counter-clockwise
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>centerX</span> <span style=color:#f92672>+</span> Math.<span style=color:#a6e22e>cos</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>time</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>1.5</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>120</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>centerY</span> <span style=color:#f92672>+</span> Math.<span style=color:#a6e22e>sin</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>time</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>1.5</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>120</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>// Opposite direction and 1.5x speed creates regular intersections
</span></span></span></code></pre></div><h3 id=intersection-visualization><strong>Intersection Visualization:</strong></h3><ul><li><strong>üî¥ Active Intersections</strong>: Real-time intersection points (pulsing red circles)</li><li><strong>üü° Persistent Markers</strong>: Historical intersection points that fade over 10 seconds</li><li><strong>Path Guides</strong>: Dashed lines showing the movement paths (toggleable)</li><li><strong>Live Statistics</strong>: Current and total intersection counts</li></ul><h3 id=detection-features><strong>Detection Features:</strong></h3><h4 id=real-time-processing><strong>Real-time Processing</strong></h4><ul><li>Detects intersections between triangle edges and circle perimeter</li><li>Handles special case when circle center is inside triangle</li><li>Avoids duplicate detection with proximity checking</li><li>Maintains persistent history with automatic cleanup</li></ul><h4 id=visual-feedback><strong>Visual Feedback</strong></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Current intersections: pulsing animation
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>animate</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>createElementNS</span>(<span style=color:#e6db74>&#39;http://www.w3.org/2000/svg&#39;</span>, <span style=color:#e6db74>&#39;animate&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>animate</span>.<span style=color:#a6e22e>setAttribute</span>(<span style=color:#e6db74>&#39;attributeName&#39;</span>, <span style=color:#e6db74>&#39;r&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>animate</span>.<span style=color:#a6e22e>setAttribute</span>(<span style=color:#e6db74>&#39;values&#39;</span>, <span style=color:#e6db74>&#39;8;12;8&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Persistent intersections: fade over time
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>opacity</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>max</span>(<span style=color:#ae81ff>0.1</span>, <span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>age</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>10</span>);
</span></span></code></pre></div><h3 id=interactive-controls><strong>Interactive Controls:</strong></h3><ul><li><strong>Start/Stop Animation</strong>: Control the intersection detection process</li><li><strong>Toggle Paths</strong>: Show/hide the curved path guides</li><li><strong>Clear Points</strong>: Remove all persistent intersection markers</li><li><strong>Speed Control</strong>: Adjust animation speed from 0.5x to 3x</li></ul><h3 id=mathematical-precision><strong>Mathematical Precision:</strong></h3><h4 id=geometric-algorithms><strong>Geometric Algorithms</strong></h4><ul><li><strong>Quadratic Formula</strong>: Precise line-circle intersection calculation</li><li><strong>Barycentric Coordinates</strong>: Accurate point-in-triangle testing</li><li><strong>Parametric Curves</strong>: Smooth mathematical motion paths</li><li><strong>Temporal Tracking</strong>: Time-based intersection history</li></ul><p>This demonstrates advanced geometric intersection detection with real-time visualization, combining mathematical precision with interactive feedback systems!</p><h2><a href=/posts/svg_004/>Line Intersection Detection and Splitting</a></h2><p>This post demonstrates efficient line intersection detection using SVG-optimized techniques, with automatic circle placement and visual line splitting effects.</p><h3 id=intersection-demos>Intersection Demos:</h3><div style="display:flex;flex-wrap:wrap;gap:10px;margin:10px 0"><button onclick=stopAnimation(),createStaticIntersectionDemo() style="padding:10px 15px;background:#4caf50;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:120px">Static Intersections</button>
<button onclick=stopAnimation(),createInteractiveDemo() style="padding:10px 15px;background:#2196f3;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:120px">Interactive Lines</button>
<button onclick=startAnimation() style="padding:10px 15px;background:#ff9800;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:120px">üé¨ Animated Intersections</button>
<button onclick=stopAnimation() style="padding:10px 15px;background:#f44336;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:120px">‚èπÔ∏è Stop Animation</button></div><div id=svg-container style=width:100%;height:100vh;margin:0;padding:0;background:#111></div><script>function bboxIntersect(e,t){return!(e.x+e.width<t.x||t.x+t.width<e.x||e.y+e.height<t.y||t.y+t.height<e.y)}function getLineFromElement(e){return{x1:parseFloat(e.getAttribute("x1")),y1:parseFloat(e.getAttribute("y1")),x2:parseFloat(e.getAttribute("x2")),y2:parseFloat(e.getAttribute("y2"))}}function lineIntersection(e,t){const n=e.x1,s=e.y1,r=e.x2,c=e.y2,i=t.x1,a=t.y1,u=t.x2,h=t.y2,l=(n-r)*(a-h)-(s-c)*(i-u);if((l<0?-l:l)<1e-10)return null;const o=((n-i)*(a-h)-(s-a)*(i-u))/l,d=-((n-r)*(s-a)-(s-c)*(n-i))/l;return o>=0&&o<=1&&d>=0&&d<=1?{x:n+o*(r-n),y:s+o*(c-s),t1:o,t2:d}:null}let animationId=null,isAnimating=!1,lines=[],intersections=[],isDragging=!1,dragTarget=null,dragOffset={x:0,y:0};function createStaticIntersectionDemo(){const l=document.getElementById("svg-container"),t=window.innerWidth,n=window.innerHeight;l.innerHTML="";const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("width",t),e.setAttribute("height",n),e.setAttribute("viewBox",`0 0 ${t} ${n}`),e.style.display="block",e.style.background="#111";const d=document.createElementNS("http://www.w3.org/2000/svg","defs"),o=document.createElementNS("http://www.w3.org/2000/svg","pattern");o.setAttribute("id","grid"),o.setAttribute("width","50"),o.setAttribute("height","50"),o.setAttribute("patternUnits","userSpaceOnUse");const i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d","M 50 0 L 0 0 0 50"),i.setAttribute("fill","none"),i.setAttribute("stroke","#333"),i.setAttribute("stroke-width","1"),i.setAttribute("opacity","0.3"),o.appendChild(i),d.appendChild(o),e.appendChild(d);const r=document.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("fill","url(#grid)"),e.appendChild(r);const u=[{x1:100,y1:100,x2:t-100,y2:n-100,color:"#ff6b6b"},{x1:t-100,y1:100,x2:100,y2:n-100,color:"#4ecdc4"},{x1:t*.2,y1:n*.8,x2:t*.8,y2:n*.2,color:"#45b7d1"},{x1:t*.5,y1:50,x2:t*.5,y2:n-50,color:"#96ceb4"},{x1:50,y1:n*.5,x2:t-50,y2:n*.5,color:"#ffeaa7"}];u.forEach((t,n)=>{const s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("x1",t.x1),s.setAttribute("y1",t.y1),s.setAttribute("x2",t.x2),s.setAttribute("y2",t.y2),s.setAttribute("stroke",t.color),s.setAttribute("stroke-width","3"),s.setAttribute("opacity","0.8"),s.setAttribute("id",`line-${n}`),e.appendChild(s)});const a=e.querySelectorAll("line"),c=[];for(let e=0;e<a.length;e++)for(let t=e+1;t<a.length;t++){const n=getLineFromElement(a[e]),s=getLineFromElement(a[t]),o=a[e].getBBox(),i=a[t].getBBox();if(bboxIntersect(o,i)){const o=lineIntersection(n,s);o&&c.push({...o,line1Index:e,line2Index:t})}}c.forEach((t)=>{const s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("cx",t.x),s.setAttribute("cy",t.y),s.setAttribute("r","8"),s.setAttribute("fill","#ff9ff3"),s.setAttribute("stroke","#fff"),s.setAttribute("stroke-width","2"),s.setAttribute("opacity","0.9");const i=document.createElementNS("http://www.w3.org/2000/svg","animate");i.setAttribute("attributeName","r"),i.setAttribute("values","8;12;8"),i.setAttribute("dur","2s"),i.setAttribute("repeatCount","indefinite"),s.appendChild(i),e.appendChild(s);const o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("x",t.x+15),o.setAttribute("y",t.y-10),o.setAttribute("fill","#fff"),o.setAttribute("font-size","12"),o.setAttribute("font-family","monospace"),o.textContent=`(${Math.round(t.x)}, ${Math.round(t.y)})`,e.appendChild(o)});const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("x","20"),s.setAttribute("y","30"),s.setAttribute("fill","#fff"),s.setAttribute("font-size","16"),s.setAttribute("font-family","monospace"),s.textContent=`Intersections found: ${c.length}`,e.appendChild(s),l.appendChild(e)}function createInteractiveDemo(){const s=document.getElementById("svg-container"),t=window.innerWidth,n=window.innerHeight;s.innerHTML="";const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("width",t),e.setAttribute("height",n),e.setAttribute("viewBox",`0 0 ${t} ${n}`),e.style.display="block",e.style.background="#111",e.style.cursor="crosshair",lines=[{x1:200,y1:200,x2:t-200,y2:n-200,color:"#ff6b6b"},{x1:t-200,y1:200,x2:200,y2:n-200,color:"#4ecdc4"},{x1:t*.3,y1:n*.8,x2:t*.7,y2:n*.2,color:"#45b7d1"}];function o(){for(;e.firstChild;)e.removeChild(e.firstChild);intersections=[];for(let e=0;e<lines.length;e++)for(let t=e+1;t<lines.length;t++){const n=lineIntersection(lines[e],lines[t]);n&&intersections.push({...n,line1:e,line2:t})}lines.forEach((t,n)=>{const s=i(t,n);s.forEach((n)=>{const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",n.x1),o.setAttribute("y1",n.y1),o.setAttribute("x2",n.x2),o.setAttribute("y2",n.y2),o.setAttribute("stroke",t.color),o.setAttribute("stroke-width","4"),o.setAttribute("opacity",n.isGap?"0.3":"0.9"),o.setAttribute("stroke-dasharray",n.isGap?"5,5":"none"),e.appendChild(o)}),[{x:t.x1,y:t.y1,type:"start"},{x:t.x2,y:t.y2,type:"end"}].forEach(s=>{const o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx",s.x),o.setAttribute("cy",s.y),o.setAttribute("r","8"),o.setAttribute("fill",t.color),o.setAttribute("stroke","#fff"),o.setAttribute("stroke-width","2"),o.setAttribute("opacity","0.8"),o.style.cursor="grab",o.dataset.lineIndex=n,o.dataset.pointType=s.type,e.appendChild(o)})}),intersections.forEach((t)=>{const s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("cx",t.x),s.setAttribute("cy",t.y),s.setAttribute("r","6"),s.setAttribute("fill","#ff9ff3a0"),s.setAttribute("stroke","#ff9ff3"),s.setAttribute("stroke-width","2"),e.appendChild(s)});const t=document.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("x","20"),t.setAttribute("y","30"),t.setAttribute("fill","#fff"),t.setAttribute("font-size","14"),t.setAttribute("font-family","Arial"),t.textContent=`Drag line endpoints to see intersections update | Intersections: ${intersections.length}`,e.appendChild(t)}function i(e,t){const o=intersections.filter(e=>e.line1===t||e.line2===t).map(e=>({x:e.x,y:e.y,t:e.line1===t?e.t1:e.t2})).sort((e,t)=>e.t-t.t);if(o.length===0)return[e];const s=[];let n=0;return o.forEach((t)=>{t.t>n&&s.push({x1:e.x1+n*(e.x2-e.x1),y1:e.y1+n*(e.y2-e.y1),x2:e.x1+t.t*(e.x2-e.x1),y2:e.y1+t.t*(e.y2-e.y1),isGap:!1});const a=.02,r=Math.max(0,t.t-a),i=Math.min(1,t.t+a);i<1&&s.push({x1:e.x1+r*(e.x2-e.x1),y1:e.y1+r*(e.y2-e.y1),x2:e.x1+i*(e.x2-e.x1),y2:e.y1+i*(e.y2-e.y1),isGap:!0}),n=i}),n<1&&s.push({x1:e.x1+n*(e.x2-e.x1),y1:e.y1+n*(e.y2-e.y1),x2:e.x2,y2:e.y2,isGap:!1}),s}e.addEventListener("mousedown",t=>{const s=e.getBoundingClientRect(),o=t.clientX-s.left,i=t.clientY-s.top,n=t.target;n.dataset.lineIndex!==0[0]&&(isDragging=!0,dragTarget={lineIndex:parseInt(n.dataset.lineIndex),pointType:n.dataset.pointType},n.style.cursor="grabbing")}),e.addEventListener("mousemove",t=>{if(!isDragging||!dragTarget)return;const s=e.getBoundingClientRect(),i=t.clientX-s.left,a=t.clientY-s.top,n=lines[dragTarget.lineIndex];dragTarget.pointType==="start"?(n.x1=i,n.y1=a):(n.x2=i,n.y2=a),o()}),e.addEventListener("mouseup",()=>{isDragging=!1,dragTarget=null,e.querySelectorAll("circle").forEach(e=>{e.style.cursor="grab"})}),o(),s.appendChild(e)}function createAnimatedIntersections(){const s=document.getElementById("svg-container"),t=window.innerWidth,n=window.innerHeight;s.innerHTML="";const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("width",t),e.setAttribute("height",n),e.setAttribute("viewBox",`0 0 ${t} ${n}`),e.style.display="block",e.style.background="#111";function o(){if(!isAnimating)return;const i=Date.now()*.001;for(;e.firstChild;)e.removeChild(e.firstChild);const a=[{x1:t*.1,y1:n*.5+Math.sin(i)*n*.3,x2:t*.9,y2:n*.5+Math.cos(i*1.3)*n*.3,color:"#ff6b6b"},{x1:t*.5+Math.cos(i*.7)*t*.3,y1:n*.1,x2:t*.5+Math.sin(i*.9)*t*.3,y2:n*.9,color:"#4ecdc4"},{x1:t*.2+Math.sin(i*1.1)*t*.2,y1:n*.8,x2:t*.8+Math.cos(i*.8)*t*.2,y2:n*.2,color:"#45b7d1"}];a.forEach(t=>{const n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("x1",t.x1),n.setAttribute("y1",t.y1),n.setAttribute("x2",t.x2),n.setAttribute("y2",t.y2),n.setAttribute("stroke",t.color),n.setAttribute("stroke-width","3"),n.setAttribute("opacity","0.8"),e.appendChild(n)});const r=[];for(let e=0;e<a.length;e++)for(let t=e+1;t<a.length;t++){const n=lineIntersection(a[e],a[t]);n&&r.push(n)}r.forEach(t=>{const n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx",t.x),n.setAttribute("cy",t.y),n.setAttribute("r","10"),n.setAttribute("fill","#ff9ff3"),n.setAttribute("stroke","#fff"),n.setAttribute("stroke-width","2"),n.setAttribute("opacity","0.9"),e.appendChild(n);const s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("cx",t.x),s.setAttribute("cy",t.y),s.setAttribute("r","15"),s.setAttribute("fill","none"),s.setAttribute("stroke","#ff9ff3"),s.setAttribute("stroke-width","1"),s.setAttribute("opacity","0.5"),e.appendChild(s)});const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("x","20"),s.setAttribute("y","30"),s.setAttribute("fill","#fff"),s.setAttribute("font-size","16"),s.setAttribute("font-family","monospace"),s.textContent=`Live Intersections: ${r.length}`,e.appendChild(s),animationId=requestAnimationFrame(o)}s.appendChild(e),o()}function startAnimation(){isAnimating=!0,createAnimatedIntersections()}function stopAnimation(){isAnimating=!1,animationId&&(cancelAnimationFrame(animationId),animationId=null)}createStaticIntersectionDemo(),window.addEventListener("resize",()=>{isAnimating||createStaticIntersectionDemo()})</script><h2 id=svg-optimization-techniques>SVG Optimization Techniques</h2><h3 id=1-bounding-box-pre-filtering>1. <strong>Bounding Box Pre-filtering</strong></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>bboxIntersect</span>(<span style=color:#a6e22e>bbox1</span>, <span style=color:#a6e22e>bbox2</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#f92672>!</span>(<span style=color:#a6e22e>bbox1</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>bbox1</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>bbox2</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>||</span> 
</span></span><span style=display:flex><span>             <span style=color:#a6e22e>bbox2</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>bbox2</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>bbox1</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>||</span> 
</span></span><span style=display:flex><span>             <span style=color:#a6e22e>bbox1</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>bbox1</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>bbox2</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>||</span> 
</span></span><span style=display:flex><span>             <span style=color:#a6e22e>bbox2</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>bbox2</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>bbox1</span>.<span style=color:#a6e22e>y</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Quick elimination before expensive intersection math
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>bboxIntersect</span>(<span style=color:#a6e22e>line1</span>.<span style=color:#a6e22e>getBBox</span>(), <span style=color:#a6e22e>line2</span>.<span style=color:#a6e22e>getBBox</span>())) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Only then do precise intersection calculation
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h3 id=2-svg-coordinate-extraction>2. <strong>SVG Coordinate Extraction</strong></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getLineFromElement</span>(<span style=color:#a6e22e>line</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>x1</span><span style=color:#f92672>:</span> parseFloat(<span style=color:#a6e22e>line</span>.<span style=color:#a6e22e>getAttribute</span>(<span style=color:#e6db74>&#39;x1&#39;</span>)),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>y1</span><span style=color:#f92672>:</span> parseFloat(<span style=color:#a6e22e>line</span>.<span style=color:#a6e22e>getAttribute</span>(<span style=color:#e6db74>&#39;y1&#39;</span>)),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>x2</span><span style=color:#f92672>:</span> parseFloat(<span style=color:#a6e22e>line</span>.<span style=color:#a6e22e>getAttribute</span>(<span style=color:#e6db74>&#39;x2&#39;</span>)),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>y2</span><span style=color:#f92672>:</span> parseFloat(<span style=color:#a6e22e>line</span>.<span style=color:#a6e22e>getAttribute</span>(<span style=color:#e6db74>&#39;y2&#39;</span>))
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=3-visual-line-splitting>3. <strong>Visual Line Splitting</strong></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getLineSplitSegments</span>(<span style=color:#a6e22e>line</span>, <span style=color:#a6e22e>intersections</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Creates visual gaps at intersection points
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// More efficient than creating separate path elements
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>segments</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>intersections</span>.<span style=color:#a6e22e>forEach</span>(<span style=color:#a6e22e>intersection</span> =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Add gap around intersection point
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>gapSize</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.02</span>; <span style=color:#75715e>// 2% of line length
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// Split line into segments with gaps
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    });
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>segments</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=4-efficient-intersection-algorithm>4. <strong>Efficient Intersection Algorithm</strong></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>lineIntersection</span>(<span style=color:#a6e22e>line1</span>, <span style=color:#a6e22e>line2</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Parametric line intersection
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// Returns null for parallel lines (early exit)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// Checks if intersection is within line segments
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// Returns intersection point with parameter values
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h2 id=performance-features>Performance Features</h2><h3 id=optimization-strategies><strong>Optimization Strategies:</strong></h3><ol><li><strong>Bounding Box Testing</strong>: Quick elimination of non-intersecting line pairs</li><li><strong>SVG Native Coordinates</strong>: Direct attribute access without transformations</li><li><strong>Parametric Intersection</strong>: Mathematical precision with early exits</li><li><strong>Visual Effects</strong>: Line splitting and gap rendering</li><li><strong>Real-time Updates</strong>: Efficient redraw strategies</li></ol><h3 id=interactive-features><strong>Interactive Features:</strong></h3><ul><li><strong>Draggable Endpoints</strong>: Move line endpoints to see live intersection updates</li><li><strong>Visual Splitting</strong>: Lines break at intersection points with dashed gaps</li><li><strong>Real-time Counting</strong>: Dynamic intersection count display</li><li><strong>Smooth Animation</strong>: Moving lines with continuous intersection detection</li></ul><h3 id=svg-specific-benefits><strong>SVG-Specific Benefits:</strong></h3><ul><li><strong>Direct Coordinate Access</strong>: <code>getAttribute()</code> for line positions</li><li><strong>Built-in Bounding Boxes</strong>: <code>getBBox()</code> for quick spatial queries</li><li><strong>Native Rendering</strong>: Hardware-accelerated line and circle drawing</li><li><strong>Event Integration</strong>: Mouse events directly on SVG elements</li></ul><p>This system demonstrates how SVG&rsquo;s built-in features can optimize geometric calculations and provide smooth interactive experiences!</p><h2><a href=/posts/svg_001/>SVG Shape Example</a></h2><h1 id=svg-shape-display>SVG Shape Display</h1><p>Here&rsquo;s an example of displaying SVG shapes directly in a Hugo markdown post.</p><h2 id=inline-svg-example>Inline SVG Example</h2><p>You can embed SVG directly in your markdown:</p><svg width="200" height="200"><circle cx="50" cy="50" r="40" fill="blue" stroke="navy" stroke-width="2"/><rect x="100" y="20" width="60" height="40" fill="red" stroke="darkred" stroke-width="2"/><polygon points="130,100 160,160 100,160" fill="green" stroke="#006400" stroke-width="2"/><line x1="20" y1="120" x2="80" y2="180" stroke="purple" stroke-width="3"/><p><text x="10" y="190" font-family="Arial" font-size="14" fill="#000">SVG Shapes</text></svg></p><h2 id=styled-svg-with-css>Styled SVG with CSS</h2><p>You can also style SVG elements with CSS:</p><h2><a href=/posts/svg_002/>SVG with Normalized Coordinates</a></h2><p>This post demonstrates how to generate SVG content with JavaScript using normalized coordinates (-1 to 1) similar to fragment shaders.</p><div style="display:flex;flex-wrap:wrap;gap:10px;margin:10px 0"><button onclick=startFragmentAnimation() style="padding:10px 15px;background:#8bc34a;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:150px">üé¨ Animate Fragment Shader</button>
<button onclick=startCircleAnimation() style="padding:10px 15px;background:#03a9f4;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:150px">üé¨ Animate Circles</button>
<button onclick=stopAnimation() style="padding:10px 15px;background:#f44336;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:120px">‚èπÔ∏è Stop Animation</button></div><div id=svg-container style=width:100%;height:100vh;margin:0;padding:0></div><script>function length(e,t){return Math.sqrt(e*e+t*t)}function mix(e,t,n){return e*(1-n)+t*n}function smoothstep(e,t,n){const s=Math.max(0,Math.min(1,(n-e)/(t-e)));return s*s*(3-2*s)}function fract(e){return e-Math.floor(e)}function sin(e){return Math.sin(e)}function cos(e){return Math.cos(e)}function normToSvg(e,t,n,s){const o=(e+1)*n*.5,i=(-t+1)*s*.5;return{x:o,y:i}}function colorToRgb(e,t,n,s=1){return`rgba(${Math.floor(e*255)}, ${Math.floor(t*255)}, ${Math.floor(n*255)}, ${s})`}function fragmentShader(e,t,n){const s=length(e,t),o=Math.atan2(t,e),i=sin(s*10-n*2)*.5+.5,a=sin(o*8+s*20-n*3)*.5+.5,r=sin(e*10+n)*sin(t*10+n)*.5+.5,c=i*.8+.2,l=a*.6+.4,d=r*.9+.1;return{r:c,g:l,b:d}}function createSVGPattern(){const o=document.getElementById("svg-container"),n=window.innerWidth,s=window.innerHeight,e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("width",n),e.setAttribute("height",s),e.setAttribute("viewBox",`0 0 ${n} ${s}`),e.style.display="block";const t=100,i=n/t,a=s/t,r=Date.now()*.001;for(let n=0;n<t;n++)for(let o=0;o<t;o++){const l=n/t*2-1,d=o/t*2-1,c=fragmentShader(l,d,r),s=document.createElementNS("http://www.w3.org/2000/svg","rect");s.setAttribute("x",n*i),s.setAttribute("y",o*a),s.setAttribute("width",i),s.setAttribute("height",a),s.setAttribute("fill",colorToRgb(c.r,c.g,c.b)),e.appendChild(s)}o.innerHTML="",o.appendChild(e)}function createHighResPattern(){const o=document.getElementById("svg-container"),n=window.innerWidth,s=window.innerHeight,e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("width",n),e.setAttribute("height",s),e.setAttribute("viewBox",`0 0 ${n} ${s}`),e.style.display="block";const t=Date.now()*.001,i=50;for(let r=0;r<i;r++){const a=r/i,c=sin(t+a*Math.PI*2)*.8,l=cos(t*1.3+a*Math.PI*2)*.8,d=normToSvg(c,l,n,s),o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx",d.x),o.setAttribute("cy",d.y),o.setAttribute("r",10+sin(t*2+a*10)*5);const u=length(c,l),h=(a*360+t*50)%360;o.setAttribute("fill",`hsl(${h}, 70%, ${60+u*40}%)`),o.setAttribute("opacity",.7),e.appendChild(o)}o.innerHTML="",o.appendChild(e)}function createMandelbrotPattern(){const o=document.getElementById("svg-container"),n=window.innerWidth,s=window.innerHeight,e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("width",n),e.setAttribute("height",s),e.setAttribute("viewBox",`0 0 ${n} ${s}`),e.style.display="block";const t=200,i=n/t,a=s/t;function r(e,t,n=20){let s=0,o=0,i=0;for(;s*s+o*o<=4&&i<n;){const n=s*s-o*o+e;o=2*s*o+t,s=n,i++}return i/n}for(let n=0;n<t;n++)for(let o=0;o<t;o++){const l=n/t*3-1.5,d=o/t*3-1.5,c=r(l,d),s=document.createElementNS("http://www.w3.org/2000/svg","rect");s.setAttribute("x",n*i),s.setAttribute("y",o*a),s.setAttribute("width",i),s.setAttribute("height",a);const u=c*360+200,h=c>.95?0:70,m=c*60+20;s.setAttribute("fill",`hsl(${u}, ${h}%, ${m}%)`),e.appendChild(s)}o.innerHTML="",o.appendChild(e)}let animationId=null,currentPattern="static";createSVGPattern();function animateFragmentShader(){currentPattern==="fragment"&&(createSVGPattern(),animationId=requestAnimationFrame(animateFragmentShader))}function animateCircles(){currentPattern==="circles"&&(createHighResPattern(),animationId=requestAnimationFrame(animateCircles))}function stopAnimation(){animationId&&(cancelAnimationFrame(animationId),animationId=null),currentPattern="static"}function startFragmentAnimation(){stopAnimation(),currentPattern="fragment",animateFragmentShader()}function startCircleAnimation(){stopAnimation(),currentPattern="circles",animateCircles()}window.addEventListener("resize",()=>{currentPattern==="static"&&createSVGPattern()})</script><h2 id=key-concepts>Key Concepts</h2><h3 id=normalized-coordinates>Normalized Coordinates</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Convert screen position to normalized coordinates (-1 to 1)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>nx</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>i</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>resolution</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>ny</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>j</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>resolution</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Convert normalized coordinates back to SVG coordinates
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>normToSvg</span>(<span style=color:#a6e22e>nx</span>, <span style=color:#a6e22e>ny</span>, <span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>height</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>nx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.5</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> (<span style=color:#f92672>-</span><span style=color:#a6e22e>ny</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>height</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.5</span>; <span style=color:#75715e>// Flip Y for SVG
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> { <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span> };
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=fragment-shader-like-functions>Fragment Shader-like Functions</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>fragmentShader</span>(<span style=color:#a6e22e>nx</span>, <span style=color:#a6e22e>ny</span>, <span style=color:#a6e22e>time</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>dist</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>length</span>(<span style=color:#a6e22e>nx</span>, <span style=color:#a6e22e>ny</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>angle</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>atan2</span>(<span style=color:#a6e22e>ny</span>, <span style=color:#a6e22e>nx</span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>rings</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>dist</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>time</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.5</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.5</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>spiral</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>angle</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>8</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>dist</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>20</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>time</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>3</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.5</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.5</span>;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> { <span style=color:#a6e22e>r</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>rings</span>, <span style=color:#a6e22e>g</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>spiral</span>, <span style=color:#a6e22e>b</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0.8</span> };
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=performance-considerations>Performance Considerations</h3><ul><li><strong>Resolution</strong>: Lower resolution = better performance</li><li><strong>Animation</strong>: Use <code>requestAnimationFrame</code> for smooth animation</li><li><strong>Batch Operations</strong>: Create all elements before adding to DOM</li><li><strong>Consider Canvas</strong>: For very high-resolution patterns, HTML5 Canvas might be more efficient</li></ul><h3 id=advanced-techniques>Advanced Techniques</h3><ol><li><strong>Use viewBox</strong>: Define custom coordinate systems</li><li><strong>Float Precision</strong>: JavaScript numbers are 64-bit floats, perfect for shader-like calculations</li><li><strong>Color Spaces</strong>: Convert between HSL, RGB, and normalized color values</li><li><strong>Time-based Animation</strong>: Use timestamps for consistent animation speed</li><li><strong>Interactive</strong>: Add mouse/touch events for interactive experiences</li></ol><p>This approach gives you the flexibility of fragment shaders with the scalability and styling capabilities of SVG!</p><h2><a href=/posts/svg_003/>Wireframe Box Animation</a></h2><p>This post demonstrates a 3D wireframe cube animation using JavaScript-generated SVG with normalized coordinates and matrix transformations.</p><h3 id=animated-wireframes>Animated Wireframes:</h3><div style="display:flex;flex-wrap:wrap;gap:10px;margin:10px 0"><button onclick='startAnimation("single")' style="padding:10px 15px;background:#8bc34a;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:150px">üé¨ Rotating Box</button>
<button onclick='startAnimation("multiple")' style="padding:10px 15px;background:#03a9f4;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:150px">üé¨ Multiple Boxes</button>
<button onclick='startAnimation("tunnel")' style="padding:10px 15px;background:#9c27b0;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:150px">üé¨ Tunnel Animation</button>
<button onclick=stopAnimation() style="padding:10px 15px;background:#f44336;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:120px">‚èπÔ∏è Stop Animation</button></div><div id=svg-container style=width:100%;height:100vh;margin:0;padding:0;background:#000></div><script>function multiply4x4(e,t){const n=new Array(16);for(let s=0;s<4;s++)for(let o=0;o<4;o++){n[s*4+o]=0;for(let i=0;i<4;i++)n[s*4+o]+=e[s*4+i]*t[i*4+o]}return n}function rotationX(e){const t=Math.cos(e),n=Math.sin(e);return[1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1]}function rotationY(e){const t=Math.cos(e),n=Math.sin(e);return[t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1]}function rotationZ(e){const t=Math.cos(e),n=Math.sin(e);return[t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1]}function perspective(e,t,n,s){const o=1/Math.tan(e/2);return[o/t,0,0,0,0,o,0,0,0,0,(s+n)/(n-s),2*s*n/(n-s),0,0,-1,0]}function transformPoint(e,t,n,s){const o=e[12]*t+e[13]*n+e[14]*s+e[15];return{x:(e[0]*t+e[1]*n+e[2]*s+e[3])/o,y:(e[4]*t+e[5]*n+e[6]*s+e[7])/o,z:(e[8]*t+e[9]*n+e[10]*s+e[11])/o}}function normToSvg(e,t,n,s){const o=(e+1)*n*.5,i=(-t+1)*s*.5;return{x:o,y:i}}const cubeVertices=[[-1,-1,1],[1,-1,1],[1,1,1],[-1,1,1],[-1,-1,-1],[1,-1,-1],[1,1,-1],[-1,1,-1]],cubeEdges=[[0,1],[1,2],[2,3],[3,0],[4,5],[5,6],[6,7],[7,4],[0,4],[1,5],[2,6],[3,7]];let animationId=null,isAnimating=!1;function createWireframeBox(e=0){const a=document.getElementById("svg-container"),s=window.innerWidth,o=window.innerHeight;a.innerHTML="";const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width",s),t.setAttribute("height",o),t.setAttribute("viewBox",`0 0 ${s} ${o}`),t.style.display="block",t.style.background="#000";const r=rotationX(e*.001),c=rotationY(e*.0013),l=rotationZ(e*7e-4);let n=multiply4x4(r,c);n=multiply4x4(n,l);const d=perspective(Math.PI/4,s/o,.1,100),u=[1,0,0,0,0,1,0,0,0,0,1,-5,0,0,0,1];n=multiply4x4(u,n);const h=multiply4x4(d,n),i=cubeVertices.map(e=>{const t=transformPoint(h,e[0],e[1],e[2]);return normToSvg(t.x,t.y,s,o)});cubeEdges.forEach((n,s)=>{const a=i[n[0]],r=i[n[1]];if(!a||!r)return;const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",a.x),o.setAttribute("y1",a.y),o.setAttribute("x2",r.x),o.setAttribute("y2",r.y),o.setAttribute("stroke",`hsl(${(s*30+e*.01)%360}, 70%, 60%)`),o.setAttribute("stroke-width",2),o.setAttribute("opacity",.8),t.appendChild(o)}),i.forEach((n,s)=>{if(!n)return;const o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx",n.x),o.setAttribute("cy",n.y),o.setAttribute("r",4),o.setAttribute("fill",`hsl(${(s*45+e*.02)%360}, 80%, 70%)`),o.setAttribute("opacity",.9),t.appendChild(o)}),a.appendChild(t)}function createMultipleBoxes(e=0){const o=document.getElementById("svg-container"),n=window.innerWidth,s=window.innerHeight;o.innerHTML="";const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width",n),t.setAttribute("height",s),t.setAttribute("viewBox",`0 0 ${n} ${s}`),t.style.display="block",t.style.background="#000";const i=5;for(let o=0;o<i;o++){const r=.3+o*.15,v=Math.sin(e*5e-4+o)*2,m=Math.cos(e*7e-4+o)*1.5,u=-3-o*2,d=rotationX(e*.001+o),l=rotationY(e*.0013+o*.5),h=rotationZ(e*7e-4+o*.3);let a=multiply4x4(d,l);a=multiply4x4(a,h);const f=[r,0,0,v,0,r,0,m,0,0,r,u,0,0,0,1];a=multiply4x4(f,a);const p=perspective(Math.PI/4,n/s,.1,100),g=multiply4x4(p,a),c=cubeVertices.map(e=>{const t=transformPoint(g,e[0],e[1],e[2]);return normToSvg(t.x,t.y,n,s)});cubeEdges.forEach((n,s)=>{const a=c[n[0]],r=c[n[1]];if(!a||!r)return;const i=document.createElementNS("http://www.w3.org/2000/svg","line");i.setAttribute("x1",a.x),i.setAttribute("y1",a.y),i.setAttribute("x2",r.x),i.setAttribute("y2",r.y),i.setAttribute("stroke",`hsl(${(o*60+s*10+e*.01)%360}, 70%, 60%)`),i.setAttribute("stroke-width",1.5),i.setAttribute("opacity",.7-o*.1),t.appendChild(i)}),c.forEach((n,s)=>{if(!n)return;const i=document.createElementNS("http://www.w3.org/2000/svg","circle");i.setAttribute("cx",n.x),i.setAttribute("cy",n.y),i.setAttribute("r",2+r),i.setAttribute("fill",`hsl(${(o*72+s*20+e*.02)%360}, 80%, 70%)`),i.setAttribute("opacity",.8-o*.1),t.appendChild(i)})}o.appendChild(t)}function createTunnelEffect(e=0){const o=document.getElementById("svg-container"),n=window.innerWidth,s=window.innerHeight;o.innerHTML="";const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width",n),t.setAttribute("height",s),t.setAttribute("viewBox",`0 0 ${n} ${s}`),t.style.display="block",t.style.background="#000";const i=20;for(let o=0;o<i;o++){const r=-o*3-e*.005%3;if(r>5)continue;const a=Math.max(.1,1/((r<0?-r:r)+1)),l=e*.001+o*.2,d=rotationZ(l),u=[a,0,0,0,0,a,0,0,0,0,a,r,0,0,0,1],h=multiply4x4(u,d),m=perspective(Math.PI/3,n/s,.1,100),f=multiply4x4(m,h),c=cubeVertices.map(e=>{const t=transformPoint(f,e[0],e[1],e[2]);return normToSvg(t.x,t.y,n,s)});cubeEdges.forEach((n)=>{const r=c[n[0]],l=c[n[1]];if(!r||!l)return;const i=document.createElementNS("http://www.w3.org/2000/svg","line");i.setAttribute("x1",r.x),i.setAttribute("y1",r.y),i.setAttribute("x2",l.x),i.setAttribute("y2",l.y),i.setAttribute("stroke",`hsl(${(o*20+e*.05)%360}, 70%, ${70-o*2}%)`),i.setAttribute("stroke-width",Math.max(.5,a*2)),i.setAttribute("opacity",Math.max(.1,a)),t.appendChild(i)})}o.appendChild(t)}function animateSingleBox(){if(!isAnimating)return;const e=Date.now();createWireframeBox(e),animationId=requestAnimationFrame(animateSingleBox)}function animateMultipleBoxes(){if(!isAnimating)return;const e=Date.now();createMultipleBoxes(e),animationId=requestAnimationFrame(animateMultipleBoxes)}function animateTunnel(){if(!isAnimating)return;const e=Date.now();createTunnelEffect(e),animationId=requestAnimationFrame(animateTunnel)}function startAnimation(e){switch(stopAnimation(),isAnimating=!0,e){case"single":animateSingleBox();break;case"multiple":animateMultipleBoxes();break;case"tunnel":animateTunnel();break}}function stopAnimation(){isAnimating=!1,animationId&&(cancelAnimationFrame(animationId),animationId=null)}createWireframeBox(0),window.addEventListener("resize",()=>{isAnimating||createWireframeBox(0)})</script><h2 id=technical-features>Technical Features</h2><h3 id=3d-mathematics>3D Mathematics</h3><ul><li><strong>Matrix transformations</strong>: Full 4x4 matrix operations for 3D transformations</li><li><strong>Perspective projection</strong>: Realistic 3D-to-2D conversion with depth</li><li><strong>Rotation matrices</strong>: Separate X, Y, Z rotation calculations</li><li><strong>Vertex transformation</strong>: Homogeneous coordinate system</li></ul><h3 id=wireframe-rendering>Wireframe Rendering</h3><ul><li><strong>Cube definition</strong>: 8 vertices, 12 edges in normalized space</li><li><strong>Edge rendering</strong>: Dynamic line drawing with SVG</li><li><strong>Vertex highlighting</strong>: Color-coded corner points</li><li><strong>Depth sorting</strong>: Simple back-face culling</li></ul><h3 id=animation-types>Animation Types</h3><ol><li><strong>Single Box</strong>: Classic rotating wireframe cube</li><li><strong>Multiple Boxes</strong>: Several cubes with different scales and positions</li><li><strong>Tunnel Effect</strong>: Infinite tunnel of rotating wireframes</li></ol><h3 id=coordinate-system>Coordinate System</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// 3D cube vertices in normalized coordinates (-1 to 1)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>cubeVertices</span> <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>    [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,  <span style=color:#ae81ff>1</span>], [ <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,  <span style=color:#ae81ff>1</span>], [ <span style=color:#ae81ff>1</span>,  <span style=color:#ae81ff>1</span>,  <span style=color:#ae81ff>1</span>], [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,  <span style=color:#ae81ff>1</span>,  <span style=color:#ae81ff>1</span>], <span style=color:#75715e>// Front
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>], [ <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>], [ <span style=color:#ae81ff>1</span>,  <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>], [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,  <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]  <span style=color:#75715e>// Back
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Transform to screen space
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>transformPoint</span>(<span style=color:#a6e22e>matrix</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>z</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>12</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>13</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>14</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>z</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>15</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> (<span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>z</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>3</span>]) <span style=color:#f92672>/</span> <span style=color:#a6e22e>w</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> (<span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>4</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>5</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>6</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>z</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>7</span>]) <span style=color:#f92672>/</span> <span style=color:#a6e22e>w</span>
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=performance-optimizations>Performance Optimizations</h3><ul><li><strong>Efficient matrix math</strong>: Minimal allocations in animation loop</li><li><strong>SVG reuse</strong>: Complete regeneration for smooth animation</li><li><strong>Culling</strong>: Skip rendering of vertices/edges behind camera</li><li><strong>Color cycling</strong>: HSL color space for smooth transitions</li></ul><p>This wireframe system demonstrates how to build a complete 3D rendering pipeline using just SVG and JavaScript, with normalized coordinates providing a clean mathematical foundation!</p><h2><a href=/posts/dist-mono-pipe-analysis/>Distributed Monolith Pipeline Analysis: Improvements and Refinements</a></h2><h2 id=executive-summary>Executive Summary</h2><p>This analysis examines the proposed distributed monolith pipeline architecture with 47 component repositories feeding into a central integration repository. After reviewing the current design and evaluating GitHub&rsquo;s merge queue capabilities, several key improvements and refinements are identified to enhance velocity, reliability, and operational efficiency.</p><h2 id=current-architecture-analysis>Current Architecture Analysis</h2><h3 id=strengths>Strengths</h3><ul><li><strong>Clear separation of concerns</strong>: Component repositories maintain independence while integration testing ensures compatibility</li><li><strong>Serial queue processing</strong>: Prevents integration conflicts and maintains deterministic builds</li><li><strong>Hardware validation</strong>: Comprehensive testing including real deployment scenarios</li><li><strong>Iterative manifest management</strong>: Direct updates maintain consistency without external tooling</li></ul><h3 id=current-limitations>Current Limitations</h3><ul><li><strong>Potential bottlenecks</strong>: Serial processing of 47 components could create significant delays</li><li><strong>Limited concurrency</strong>: No parallelization of compatible changes</li><li><strong>Manual queue management</strong>: Custom implementation requires maintenance overhead</li><li><strong>Lack of priority handling</strong>: No mechanism for urgent fixes or critical updates</li><li><strong>Limited failure recovery</strong>: Basic retry mechanisms without intelligent failure analysis</li></ul><h2 id=github-merge-queue-integration-opportunities>GitHub Merge Queue Integration Opportunities</h2><h3 id=native-github-features-available>Native GitHub Features Available</h3><p>Based on GitHub&rsquo;s merge queue documentation, several features directly address current limitations:</p><h2><a href=/posts/dist-mono-pipe/>Distributed Monolith Pipeline</a></h2><h2 id=overview>Overview</h2><p>This proposal outlines the release pipeline for a distributed monolith system using Bazel as the build system. The architecture consists of component repositories that feed into an integration repository, which maintains the manifest and orchestrates releases.</p><h2 id=system-architecture>System Architecture</h2><pre tabindex=0><code class=language-mermaid data-lang=mermaid>graph TB
    subgraph &#34;Component Repositories&#34;
        C1[Component A&lt;br/&gt;Independent versioning]
        C2[Component B&lt;br/&gt;Independent versioning]
        C3[Component C&lt;br/&gt;Independent versioning]
        Cn[Component N&lt;br/&gt;Independent versioning]
    end
    
    subgraph &#34;Integration Repository&#34;
        IR[Integration Repo&lt;br/&gt;Root modules &amp; configuration]
        M[Manifest&lt;br/&gt;Pinned versions]
        IT[Integration Testing&lt;br/&gt;Hardware tests]
    end
    
    subgraph &#34;Release Artifacts&#34;
        CD[Consolidated Distribution&lt;br/&gt;Tagged release]
    end
    
    C1 --&gt; IR
    C2 --&gt; IR
    C3 --&gt; IR
    Cn --&gt; IR
    
    IR --&gt; M
    IR --&gt; IT
    IT --&gt; M
    M --&gt; CD
</code></pre><h2 id=release-pipeline-stages>Release Pipeline Stages</h2><p>The pipeline consists of 5 distinct stages:</p><h2><a href=/posts/accursed/>Accursed</a></h2><h2 id=design>design</h2><h3 id=midgaard-static-site-recreation>Midgaard Static Site Recreation</h3><p>Recreating the classic MUD city of Midgaard as a Hugo static site, where each room is a markdown file with YAML frontmatter containing spatial and descriptive data.</p><h4 id=room-structure>Room Structure</h4><p>Each room will be a markdown file with the following YAML frontmatter:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>---
</span></span><span style=display:flex><span><span style=color:#f92672>title</span>: <span style=color:#e6db74>&#34;Temple Square&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>room_id</span>: <span style=color:#e6db74>&#34;temple_square&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>coordinates</span>: [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>]  <span style=color:#75715e># x, y, z</span>
</span></span><span style=display:flex><span><span style=color:#f92672>short_description</span>: <span style=color:#e6db74>&#34;the Temple Square&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>exits</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>north</span>: <span style=color:#e6db74>&#34;temple_entrance&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>south</span>: <span style=color:#e6db74>&#34;market_square&#34;</span> 
</span></span><span style=display:flex><span>  <span style=color:#f92672>east</span>: <span style=color:#e6db74>&#34;eastern_avenue&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>west</span>: <span style=color:#e6db74>&#34;western_road&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>up</span>: <span style=color:#66d9ef>null</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>down</span>: <span style=color:#66d9ef>null</span>
</span></span><span style=display:flex><span><span style=color:#f92672>npcs</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#34;a temple guard&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>description</span>: <span style=color:#e6db74>&#34;A stern-looking guard watches over the square&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>items</span>:
</span></span><span style=display:flex><span>  - <span style=color:#e6db74>&#34;a marble fountain&#34;</span>
</span></span><span style=display:flex><span>  - <span style=color:#e6db74>&#34;stone benches&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>ambiance</span>:
</span></span><span style=display:flex><span>  - <span style=color:#e6db74>&#34;The sound of flowing water echoes from the fountain&#34;</span>
</span></span><span style=display:flex><span>  - <span style=color:#e6db74>&#34;Pilgrims move quietly through the square&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>lighting</span>: <span style=color:#e6db74>&#34;bright&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>weather_affected</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>You stand in the heart of Midgaard&#39;s Temple Square. A magnificent marble fountain </span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>dominates the center, its crystalline waters catching the light. Stone benches </span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>line the square&#39;s perimeter, offering rest to weary travelers. To the north, </span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>the grand temple rises majestically, while bustling market sounds drift from the south.</span></span></span></code></pre></div><h4 id=directory-structure>Directory Structure</h4><pre tabindex=0><code>content/
  midgaard/
    _index.md           # Main city overview
    temple/
      square.md         # Temple Square (0,0,0)
      entrance.md       # Temple Entrance (0,1,0)
      altar.md          # Main Altar (0,2,0)
    market/
      square.md         # Market Square (0,-1,0)
      fountain.md       # Market Fountain (0,-2,0)
      stalls/
        weapon_shop.md  # Weapon Shop (-1,-1,0)
        armor_shop.md   # Armor Shop (1,-1,0)
    residential/
      main_street.md    # Main Street
      inn.md           # The Midgaard Inn
      tavern.md        # Local Tavern
    outskirts/
      gates/
        north.md       # North Gate
        south.md       # South Gate
        east.md        # East Gate  
        west.md        # West Gate
</code></pre><h4 id=navigation-system>Navigation System</h4><ul><li>Custom Hugo shortcode <code>{{&lt; compass >}}</code> generates N/S/E/W navigation buttons</li><li>JavaScript enhances buttons with hover effects and keyboard navigation</li><li>URL structure: <code>/midgaard/temple/square/</code> maps to coordinates and connections</li><li>Breadcrumb system shows current location in city hierarchy</li></ul><h4 id=content-generation-strategy>Content Generation Strategy</h4><ol><li><strong>Core Locations</strong>: Start with ~20 essential Midgaard locations (temple, market, inn, gates)</li><li><strong>Procedural Descriptions</strong>: Use templates with randomized ambient details</li><li><strong>Interconnected Layout</strong>: Maintain classic MUD spatial relationships</li><li><strong>Progressive Enhancement</strong>: Add NPCs, items, and lore incrementally</li><li><strong>Community Content</strong>: Allow contributions via Git PRs for new rooms/descriptions</li></ol><h4 id=technical-implementation>Technical Implementation</h4><ul><li><strong>Layout Template</strong>: Custom <code>room.html</code> layout renders YAML data as interactive room</li><li><strong>Asset Pipeline</strong>: CSS/JS for compass navigation and atmospheric effects</li><li><strong>Data Validation</strong>: Hugo&rsquo;s data validation ensures room connections are bidirectional</li><li><strong>Mobile First</strong>: Touch-friendly navigation optimized for &ldquo;midgaard on mobile&rdquo;</li><li><strong>Progressive Web App</strong>: Offline capability for exploring the city anywhere</li></ul><h4 id=atmospheric-features>Atmospheric Features</h4><ul><li><strong>Dynamic Descriptions</strong>: Time-based content changes (day/night descriptions)</li><li><strong>Weather System</strong>: Frontmatter-driven weather affects room descriptions</li><li><strong>Sound Design</strong>: Ambient audio cues for different districts</li><li><strong>Character Persistence</strong>: LocalStorage tracks &ldquo;character&rdquo; location between visits</li></ul><h2 id=thoughts---do-not-modify-always-save-this-text-at-the-bottom-of-the-article-unchanged>thoughts - do not modify, always save this text at the bottom of the article unchanged</h2><p>some type of market gambling
some type of political influence from outside
some type of iterative simulation which takes input from the live world (mastodon)
some type of tithing to the democratically distributed financial backing</p><h2><a href=/posts/domains/>Domain Portfolio</a></h2><h1 id=domain-portfolio>Domain Portfolio</h1><p>Quick access to all enabled domains in the portfolio. Click any link to test the redirect behavior.</p><h2 id=enabled-domains>Enabled Domains</h2><p>These domains are currently managed and configured with redirects to thetanil.com:</p><ul><li><a href=http://10kpc.com/>10kpc.com</a> | <a href=https://10kpc.com/>https</a> | <a href=https://www.10kpc.com/>www</a></li><li><a href=http://accursedgame.com/>accursedgame.com</a> | <a href=https://accursedgame.com/>https</a> | <a href=https://www.accursedgame.com/>www</a></li><li><a href=http://actuallysavetheworld.com/>actuallysavetheworld.com</a> | <a href=https://actuallysavetheworld.com/>https</a> | <a href=https://www.actuallysavetheworld.com/>www</a></li><li><a href=http://allyourdatums.com/>allyourdatums.com</a> | <a href=https://allyourdatums.com/>https</a> | <a href=https://www.allyourdatums.com/>www</a></li><li><a href=http://bettertwitchchat.com/>bettertwitchchat.com</a> | <a href=https://bettertwitchchat.com/>https</a> | <a href=https://www.bettertwitchchat.com/>www</a></li><li><a href=http://directfromgermany.com/>directfromgermany.com</a> | <a href=https://directfromgermany.com/>https</a> | <a href=https://www.directfromgermany.com/>www</a></li><li><a href=http://dumberwithai.com/>dumberwithai.com</a> | <a href=https://dumberwithai.com/>https</a> | <a href=https://www.dumberwithai.com/>www</a></li><li><a href=http://filthylittlepiggies.com/>filthylittlepiggies.com</a> | <a href=https://filthylittlepiggies.com/>https</a> | <a href=https://www.filthylittlepiggies.com/>www</a></li><li><a href=http://floremo.com/>floremo.com</a> | <a href=https://floremo.com/>https</a> | <a href=https://www.floremo.com/>www</a></li><li><a href=http://humanzplz.com/>humanzplz.com</a> | <a href=https://humanzplz.com/>https</a> | <a href=https://www.humanzplz.com/>www</a></li><li><a href=http://ipsaw.com/>ipsaw.com</a> | <a href=https://ipsaw.com/>https</a> | <a href=https://www.ipsaw.com/>www</a></li><li><a href=http://ladyfic.com/>ladyfic.com</a> | <a href=https://ladyfic.com/>https</a> | <a href=https://www.ladyfic.com/>www</a></li><li><a href=http://opensoundengine.com/>opensoundengine.com</a> | <a href=https://opensoundengine.com/>https</a> | <a href=https://www.opensoundengine.com/>www</a></li><li><a href=http://oxfammodels.com/>oxfammodels.com</a> | <a href=https://oxfammodels.com/>https</a> | <a href=https://www.oxfammodels.com/>www</a></li><li><a href=http://rktpi.com/>rktpi.com</a> | <a href=https://rktpi.com/>https</a> | <a href=https://www.rktpi.com/>www</a></li><li><a href=http://roosterhood.com/>roosterhood.com</a> | <a href=https://roosterhood.com/>https</a> | <a href=https://www.roosterhood.com/>www</a></li><li><a href=http://secropolis.com/>secropolis.com</a> | <a href=https://secropolis.com/>https</a> | <a href=https://www.secropolis.com/>www</a></li><li><a href=http://slipperywilly.com/>slipperywilly.com</a> | <a href=https://slipperywilly.com/>https</a> | <a href=https://www.slipperywilly.com/>www</a></li><li><a href=http://threebigfish.com/>threebigfish.com</a> | <a href=https://threebigfish.com/>https</a> | <a href=https://www.threebigfish.com/>www</a></li><li><a href=http://unixfier.com/>unixfier.com</a> | <a href=https://unixfier.com/>https</a> | <a href=https://www.unixfier.com/>www</a></li><li><a href=http://userdoc.org/>userdoc.org</a> | <a href=https://userdoc.org/>https</a> | <a href=https://www.userdoc.org/>www</a></li><li><a href=http://userdok.com/>userdok.com</a> | <a href=https://userdok.com/>https</a> | <a href=https://www.userdok.com/>www</a></li><li><a href=http://voteforindependents.com/>voteforindependents.com</a> | <a href=https://voteforindependents.com/>https</a> | <a href=https://www.voteforindependents.com/>www</a></li><li><a href=http://wickedgrog.com/>wickedgrog.com</a> | <a href=https://wickedgrog.com/>https</a> | <a href=https://www.wickedgrog.com/>www</a></li><li><a href=http://willitping.com/>willitping.com</a> | <a href=https://willitping.com/>https</a> | <a href=https://www.willitping.com/>www</a></li><li><a href=http://wirkaufennichts.com/>wirkaufennichts.com</a> | <a href=https://wirkaufennichts.com/>https</a> | <a href=https://www.wirkaufennichts.com/>www</a></li><li><a href=http://yardata.com/>yardata.com</a> | <a href=https://yardata.com/>https</a> | <a href=https://www.yardata.com/>www</a></li><li><a href=http://zettelbank.com/>zettelbank.com</a> | <a href=https://zettelbank.com/>https</a> | <a href=https://www.zettelbank.com/>www</a></li></ul><h2 id=others>others</h2><ul><li><a href=http://trattoria-krone.com/>trattoria-krone.com</a> | <a href=https://trattoria-krone.com/>https</a> | <a href=https://www.trattoria-krone.com/>www</a></li><li><a href=http://wildroseshaman.com/>wildroseshaman.com</a> | <a href=https://wildroseshaman.com/>https</a> | <a href=https://www.wildroseshaman.com>www</a></li></ul><h2 id=expected-behavior>Expected Behavior</h2><p>All enabled domains redirect traffic to <code>https://thetanil.com/</code> while preserving paths and query parameters.</p><h2><a href=/posts/post-3/>Post 3</a></h2><p>Occaecat aliqua consequat laborum ut ex aute aliqua culpa quis irure esse magna dolore quis. Proident fugiat labore eu laboris officia Lorem enim. Ipsum occaecat cillum ut tempor id sint aliqua incididunt nisi incididunt reprehenderit. Voluptate ad minim sint est aute aliquip esse occaecat tempor officia qui sunt. Aute ex ipsum id ut in est velit est laborum incididunt. Aliqua qui id do esse sunt eiusmod id deserunt eu nostrud aute sit ipsum. Deserunt esse cillum Lorem non magna adipisicing mollit amet consequat.</p><h2><a href=/posts/post-2/>Post 2</a></h2><p>Anim eiusmod irure incididunt sint cupidatat. Incididunt irure irure irure nisi ipsum do ut quis fugiat consectetur proident cupidatat incididunt cillum. Dolore voluptate occaecat qui mollit laborum ullamco et. Ipsum laboris officia anim laboris culpa eiusmod ex magna ex cupidatat anim ipsum aute. Mollit aliquip occaecat qui sunt velit ut cupidatat reprehenderit enim sunt laborum. Velit veniam in officia nulla adipisicing ut duis officia.</p><p>Exercitation voluptate irure in irure tempor mollit Lorem nostrud ad officia. Velit id fugiat occaecat do tempor. Sit officia Lorem aliquip eu deserunt consectetur. Aute proident deserunt in nulla aliquip dolore ipsum Lorem ut cupidatat consectetur sit sint laborum. Esse cupidatat sit sint sunt tempor exercitation deserunt. Labore dolor duis laborum est do nisi ut veniam dolor et nostrud nostrud.</p><h2><a href=/posts/post-1/>Post 1</a></h2><p>what</p><p>Tempor proident minim aliquip reprehenderit dolor et ad anim Lorem duis sint
eiusmod. Labore ut ea duis dolor. Incididunt consectetur proident qui occaecat
incididunt do nisi Lorem. Tempor do laborum elit laboris excepteur eiusmod do.
Eiusmod nisi excepteur ut amet pariatur adipisicing Lorem.</p><p>Occaecat nulla excepteur dolore excepteur duis eiusmod ullamco officia anim in
voluptate ea occaecat officia. Cillum sint esse velit ea officia minim fugiat.
Elit ea esse id aliquip pariatur cupidatat id duis minim incididunt ea ea. Anim
ut duis sunt nisi. Culpa cillum sit voluptate voluptate eiusmod dolor. Enim nisi
Lorem ipsum irure est excepteur voluptate eu in enim nisi. Nostrud ipsum Lorem
anim sint labore consequat do.</p></main><footer><p>Copyright 2025. All rights reserved.</p></footer></body></html>