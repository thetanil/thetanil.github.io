<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Wireframe Box Animation | Theta Nil's Site</title><link rel=stylesheet href=/css/main.min.c7a5c1c6627bdd92510df0d2272d0f86694f49366048d0ee3065e20d315759b3.css integrity="sha256-x6XBxmJ73ZJRDfDSJy0PhmlPSTZgSNDuMGXiDTFXWbM=" crossorigin=anonymous><script src=/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js integrity="sha256-I80MfYNyY7nq65buLZzPopadqj+gD6HB/ocBqbhyUaE=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js></script><script>function getMermaidTheme(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"default"}function initializeMermaid(){mermaid.initialize({startOnLoad:!1,theme:getMermaidTheme(),securityLevel:"loose",fontFamily:"inherit",themeVariables:{primaryColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#66b3ff":"#00e",primaryTextColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#e8e8e8":"#222",primaryBorderColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#444":"#222",lineColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#444":"#222",sectionBkgColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#2a2a2a":"#f9f9f9",altSectionBkgColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#1a1a1a":"#fff",gridColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#444":"#e0e0e0",tertiaryColor:window.matchMedia("(prefers-color-scheme: dark)").matches?"#3a3a3a":"#f0f0f0"}})}function processMermaidBlocks(){const e=document.querySelectorAll("code.language-mermaid");e.forEach((e,t)=>{const n=document.createElement("div");n.className="mermaid",n.id="mermaid-"+t,n.textContent=e.textContent;const s=e.parentElement;s.parentElement.replaceChild(n,s)}),e.length>0&&mermaid.init()}if(document.addEventListener("DOMContentLoaded",function(){initializeMermaid(),processMermaidBlocks()}),window.matchMedia){const e=window.matchMedia("(prefers-color-scheme: dark)");e.addEventListener("change",function(){initializeMermaid();const t=document.querySelectorAll(".mermaid");t.forEach((e,t)=>{e.id="mermaid-rerender-"+t,e.removeAttribute("data-processed")}),t.length>0&&mermaid.init()})}</script></head><body><header><h1>Theta Nil's Site</h1><nav><ul><li><a href=/>Home</a></li><li><a aria-current=true class=ancestor href=/posts/>Posts</a></li><li><a href=/tags/>Tags</a></li></ul></nav></header><main><h1>Wireframe Box Animation</h1><time datetime=2025-10-08T00:00:00+00:00>October 8, 2025</time><p>This post demonstrates a 3D wireframe cube animation using JavaScript-generated SVG with normalized coordinates and matrix transformations.</p><h3 id=animated-wireframes>Animated Wireframes:</h3><div style="display:flex;flex-wrap:wrap;gap:10px;margin:10px 0"><button onclick='startAnimation("single")' style="padding:10px 15px;background:#8bc34a;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:150px">üé¨ Rotating Box</button>
<button onclick='startAnimation("multiple")' style="padding:10px 15px;background:#03a9f4;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:150px">üé¨ Multiple Boxes</button>
<button onclick='startAnimation("tunnel")' style="padding:10px 15px;background:#9c27b0;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:150px">üé¨ Tunnel Animation</button>
<button onclick=stopAnimation() style="padding:10px 15px;background:#f44336;color:#fff;border:none;border-radius:4px;cursor:pointer;flex:1;min-width:120px">‚èπÔ∏è Stop Animation</button></div><div id=svg-container style=width:100%;height:100vh;margin:0;padding:0;background:#000></div><script>function multiply4x4(e,t){const n=new Array(16);for(let s=0;s<4;s++)for(let o=0;o<4;o++){n[s*4+o]=0;for(let i=0;i<4;i++)n[s*4+o]+=e[s*4+i]*t[i*4+o]}return n}function rotationX(e){const t=Math.cos(e),n=Math.sin(e);return[1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1]}function rotationY(e){const t=Math.cos(e),n=Math.sin(e);return[t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1]}function rotationZ(e){const t=Math.cos(e),n=Math.sin(e);return[t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1]}function perspective(e,t,n,s){const o=1/Math.tan(e/2);return[o/t,0,0,0,0,o,0,0,0,0,(s+n)/(n-s),2*s*n/(n-s),0,0,-1,0]}function transformPoint(e,t,n,s){const o=e[12]*t+e[13]*n+e[14]*s+e[15];return{x:(e[0]*t+e[1]*n+e[2]*s+e[3])/o,y:(e[4]*t+e[5]*n+e[6]*s+e[7])/o,z:(e[8]*t+e[9]*n+e[10]*s+e[11])/o}}function normToSvg(e,t,n,s){const o=(e+1)*n*.5,i=(-t+1)*s*.5;return{x:o,y:i}}const cubeVertices=[[-1,-1,1],[1,-1,1],[1,1,1],[-1,1,1],[-1,-1,-1],[1,-1,-1],[1,1,-1],[-1,1,-1]],cubeEdges=[[0,1],[1,2],[2,3],[3,0],[4,5],[5,6],[6,7],[7,4],[0,4],[1,5],[2,6],[3,7]];let animationId=null,isAnimating=!1;function createWireframeBox(e=0){const a=document.getElementById("svg-container"),s=window.innerWidth,o=window.innerHeight;a.innerHTML="";const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width",s),t.setAttribute("height",o),t.setAttribute("viewBox",`0 0 ${s} ${o}`),t.style.display="block",t.style.background="#000";const r=rotationX(e*.001),c=rotationY(e*.0013),l=rotationZ(e*7e-4);let n=multiply4x4(r,c);n=multiply4x4(n,l);const d=perspective(Math.PI/4,s/o,.1,100),u=[1,0,0,0,0,1,0,0,0,0,1,-5,0,0,0,1];n=multiply4x4(u,n);const h=multiply4x4(d,n),i=cubeVertices.map(e=>{const t=transformPoint(h,e[0],e[1],e[2]);return normToSvg(t.x,t.y,s,o)});cubeEdges.forEach((n,s)=>{const a=i[n[0]],r=i[n[1]];if(!a||!r)return;const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",a.x),o.setAttribute("y1",a.y),o.setAttribute("x2",r.x),o.setAttribute("y2",r.y),o.setAttribute("stroke",`hsl(${(s*30+e*.01)%360}, 70%, 60%)`),o.setAttribute("stroke-width",2),o.setAttribute("opacity",.8),t.appendChild(o)}),i.forEach((n,s)=>{if(!n)return;const o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx",n.x),o.setAttribute("cy",n.y),o.setAttribute("r",4),o.setAttribute("fill",`hsl(${(s*45+e*.02)%360}, 80%, 70%)`),o.setAttribute("opacity",.9),t.appendChild(o)}),a.appendChild(t)}function createMultipleBoxes(e=0){const o=document.getElementById("svg-container"),n=window.innerWidth,s=window.innerHeight;o.innerHTML="";const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width",n),t.setAttribute("height",s),t.setAttribute("viewBox",`0 0 ${n} ${s}`),t.style.display="block",t.style.background="#000";const i=5;for(let o=0;o<i;o++){const r=.3+o*.15,v=Math.sin(e*5e-4+o)*2,m=Math.cos(e*7e-4+o)*1.5,u=-3-o*2,d=rotationX(e*.001+o),l=rotationY(e*.0013+o*.5),h=rotationZ(e*7e-4+o*.3);let a=multiply4x4(d,l);a=multiply4x4(a,h);const f=[r,0,0,v,0,r,0,m,0,0,r,u,0,0,0,1];a=multiply4x4(f,a);const p=perspective(Math.PI/4,n/s,.1,100),g=multiply4x4(p,a),c=cubeVertices.map(e=>{const t=transformPoint(g,e[0],e[1],e[2]);return normToSvg(t.x,t.y,n,s)});cubeEdges.forEach((n,s)=>{const a=c[n[0]],r=c[n[1]];if(!a||!r)return;const i=document.createElementNS("http://www.w3.org/2000/svg","line");i.setAttribute("x1",a.x),i.setAttribute("y1",a.y),i.setAttribute("x2",r.x),i.setAttribute("y2",r.y),i.setAttribute("stroke",`hsl(${(o*60+s*10+e*.01)%360}, 70%, 60%)`),i.setAttribute("stroke-width",1.5),i.setAttribute("opacity",.7-o*.1),t.appendChild(i)}),c.forEach((n,s)=>{if(!n)return;const i=document.createElementNS("http://www.w3.org/2000/svg","circle");i.setAttribute("cx",n.x),i.setAttribute("cy",n.y),i.setAttribute("r",2+r),i.setAttribute("fill",`hsl(${(o*72+s*20+e*.02)%360}, 80%, 70%)`),i.setAttribute("opacity",.8-o*.1),t.appendChild(i)})}o.appendChild(t)}function createTunnelEffect(e=0){const o=document.getElementById("svg-container"),n=window.innerWidth,s=window.innerHeight;o.innerHTML="";const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width",n),t.setAttribute("height",s),t.setAttribute("viewBox",`0 0 ${n} ${s}`),t.style.display="block",t.style.background="#000";const i=20;for(let o=0;o<i;o++){const r=-o*3-e*.005%3;if(r>5)continue;const a=Math.max(.1,1/((r<0?-r:r)+1)),l=e*.001+o*.2,d=rotationZ(l),u=[a,0,0,0,0,a,0,0,0,0,a,r,0,0,0,1],h=multiply4x4(u,d),m=perspective(Math.PI/3,n/s,.1,100),f=multiply4x4(m,h),c=cubeVertices.map(e=>{const t=transformPoint(f,e[0],e[1],e[2]);return normToSvg(t.x,t.y,n,s)});cubeEdges.forEach((n)=>{const r=c[n[0]],l=c[n[1]];if(!r||!l)return;const i=document.createElementNS("http://www.w3.org/2000/svg","line");i.setAttribute("x1",r.x),i.setAttribute("y1",r.y),i.setAttribute("x2",l.x),i.setAttribute("y2",l.y),i.setAttribute("stroke",`hsl(${(o*20+e*.05)%360}, 70%, ${70-o*2}%)`),i.setAttribute("stroke-width",Math.max(.5,a*2)),i.setAttribute("opacity",Math.max(.1,a)),t.appendChild(i)})}o.appendChild(t)}function animateSingleBox(){if(!isAnimating)return;const e=Date.now();createWireframeBox(e),animationId=requestAnimationFrame(animateSingleBox)}function animateMultipleBoxes(){if(!isAnimating)return;const e=Date.now();createMultipleBoxes(e),animationId=requestAnimationFrame(animateMultipleBoxes)}function animateTunnel(){if(!isAnimating)return;const e=Date.now();createTunnelEffect(e),animationId=requestAnimationFrame(animateTunnel)}function startAnimation(e){switch(stopAnimation(),isAnimating=!0,e){case"single":animateSingleBox();break;case"multiple":animateMultipleBoxes();break;case"tunnel":animateTunnel();break}}function stopAnimation(){isAnimating=!1,animationId&&(cancelAnimationFrame(animationId),animationId=null)}createWireframeBox(0),window.addEventListener("resize",()=>{isAnimating||createWireframeBox(0)})</script><h2 id=technical-features>Technical Features</h2><h3 id=3d-mathematics>3D Mathematics</h3><ul><li><strong>Matrix transformations</strong>: Full 4x4 matrix operations for 3D transformations</li><li><strong>Perspective projection</strong>: Realistic 3D-to-2D conversion with depth</li><li><strong>Rotation matrices</strong>: Separate X, Y, Z rotation calculations</li><li><strong>Vertex transformation</strong>: Homogeneous coordinate system</li></ul><h3 id=wireframe-rendering>Wireframe Rendering</h3><ul><li><strong>Cube definition</strong>: 8 vertices, 12 edges in normalized space</li><li><strong>Edge rendering</strong>: Dynamic line drawing with SVG</li><li><strong>Vertex highlighting</strong>: Color-coded corner points</li><li><strong>Depth sorting</strong>: Simple back-face culling</li></ul><h3 id=animation-types>Animation Types</h3><ol><li><strong>Single Box</strong>: Classic rotating wireframe cube</li><li><strong>Multiple Boxes</strong>: Several cubes with different scales and positions</li><li><strong>Tunnel Effect</strong>: Infinite tunnel of rotating wireframes</li></ol><h3 id=coordinate-system>Coordinate System</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// 3D cube vertices in normalized coordinates (-1 to 1)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>cubeVertices</span> <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>    [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,  <span style=color:#ae81ff>1</span>], [ <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,  <span style=color:#ae81ff>1</span>], [ <span style=color:#ae81ff>1</span>,  <span style=color:#ae81ff>1</span>,  <span style=color:#ae81ff>1</span>], [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,  <span style=color:#ae81ff>1</span>,  <span style=color:#ae81ff>1</span>], <span style=color:#75715e>// Front
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>], [ <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>], [ <span style=color:#ae81ff>1</span>,  <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>], [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,  <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]  <span style=color:#75715e>// Back
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Transform to screen space
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>transformPoint</span>(<span style=color:#a6e22e>matrix</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>z</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>12</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>13</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>14</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>z</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>15</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> (<span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>z</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>3</span>]) <span style=color:#f92672>/</span> <span style=color:#a6e22e>w</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> (<span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>4</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>5</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>6</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>z</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>7</span>]) <span style=color:#f92672>/</span> <span style=color:#a6e22e>w</span>
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=performance-optimizations>Performance Optimizations</h3><ul><li><strong>Efficient matrix math</strong>: Minimal allocations in animation loop</li><li><strong>SVG reuse</strong>: Complete regeneration for smooth animation</li><li><strong>Culling</strong>: Skip rendering of vertices/edges behind camera</li><li><strong>Color cycling</strong>: HSL color space for smooth transitions</li></ul><p>This wireframe system demonstrates how to build a complete 3D rendering pipeline using just SVG and JavaScript, with normalized coordinates providing a clean mathematical foundation!</p><div><div>Tags:</div><ul><li><a href=/tags/svg/>Svg</a></li><li><a href=/tags/javascript/>Javascript</a></li><li><a href=/tags/3d/>3d</a></li><li><a href=/tags/wireframe/>Wireframe</a></li><li><a href=/tags/animation/>Animation</a></li></ul></div></main><footer><p>Copyright 2025. All rights reserved.</p></footer></body></html>